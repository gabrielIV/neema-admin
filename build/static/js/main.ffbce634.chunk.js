(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports=a(238)},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},238:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(93),r=a.n(c),s=(a(105),a(106),a(107),a(18)),i=a(2),o=a(3),m=a(5),d=a(4),u=a(6),f=a(19),b=a(7),h=a(8),p=a(94),E=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={data:{labels:["January","February","March","April","May","June","July","August","September","November","December"],datasets:a.props.datasets}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"card shadow-sm"},l.a.createElement("div",{className:"card-header"},l.a.createElement("h5",{className:"font-weight-bold"},this.props.title)),l.a.createElement(p.a,{options:{tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0}},data:this.state.data}),l.a.createElement("div",{className:"card-footer d-flex flex-row justify-content-between align-items-center"},l.a.createElement("select",{className:"form-control w-auto"},l.a.createElement("option",{value:""},"Today"),l.a.createElement("option",{value:""},"Yesterday"),l.a.createElement("option",{value:""},"last 7 days"),l.a.createElement("option",{value:""},"Last 28 days"),l.a.createElement("option",{value:""},"Last 90 days")),this.props.filters)))}}]),t}(n.Component),v=a(239),N=a(240),g=a(241),y=a(242),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={chartDefaults:{label:"Total users",fill:!0,borderColor:"#4e73df",borderCapStyle:"square"}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"p-3 d-flex flex-row justify-content-between align-items-center"},l.a.createElement("h2",{className:"font-weight-bold"},"Dashboard")),l.a.createElement("div",{className:"px-3"},l.a.createElement("div",{className:"row mb-5 "},l.a.createElement("div",{className:"col-md-3"},l.a.createElement("div",{className:"card material-blue text-white"},l.a.createElement("div",{className:"card-header trg-header d-flex flex-row align-items-center"},l.a.createElement(v.a,{className:"mr-4"}),l.a.createElement("span",{className:"title font-weight-bold"},"Target")),l.a.createElement("div",{className:"card-body text-white"},l.a.createElement("h3",{className:"font-weight-bold"},l.a.createElement("small",null,l.a.createElement("small",null," Kshs"))," ","2,300,000")))),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("div",{className:"card material-green text-white"},l.a.createElement("div",{className:"card-header trg-header d-flex flex-row align-items-center"},l.a.createElement(N.a,{className:"mr-4"}),l.a.createElement("span",{className:"title font-weight-bold"},"Sales")),l.a.createElement("div",{className:"card-body text-white"},l.a.createElement("h3",{className:"font-weight-bold"},l.a.createElement("small",null,l.a.createElement("small",null," Kshs"))," ","2,300,000")))),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("div",{className:"card material-deep-orange text-white"},l.a.createElement("div",{className:"card-header trg-header d-flex flex-row align-items-center"},l.a.createElement(g.a,{className:"mr-4"}),l.a.createElement("span",{className:"title font-weight-bold"},"Arrears")),l.a.createElement("div",{className:"card-body text-white"},l.a.createElement("h3",{className:"font-weight-bold"},l.a.createElement("small",null,l.a.createElement("small",null," Kshs"))," ","2,300,000")))),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("div",{className:"card material-deep-purple text-white"},l.a.createElement("div",{className:"card-header trg-header d-flex flex-row align-items-center"},l.a.createElement(y.a,{className:"mr-4"}),l.a.createElement("span",{className:"title font-weight-bold"},"Total users")),l.a.createElement("div",{className:"card-body text-white"},l.a.createElement("h3",{className:"font-weight-bold"},l.a.createElement("small",{className:"opacity-0"},l.a.createElement("small",null," Kshs"))," ","15,320"))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement(E,{title:"Perfomance",filters:l.a.createElement("div",{className:"d-flex flex-row"},l.a.createElement("div",{className:"mx-2 flex-column"},l.a.createElement("small",{className:"mb-2 font-weight-bold"},"Branch "),l.a.createElement("select",{name:"",id:"",className:"form-control py-1 filter-option"},l.a.createElement("option",{value:"0"},"ALL"),l.a.createElement("option",{value:"1"},"NAIROBI"),l.a.createElement("option",{value:"2"},"BranchNAME"),l.a.createElement("option",{value:"3"},"BranchNAME"),l.a.createElement("option",{value:"4"},"BranchNAME"))),l.a.createElement("div",{className:"mx-2 flex-column"},l.a.createElement("small",{className:"mb-2 font-weight-bold"},"Zone "),l.a.createElement("select",{name:"",id:"",className:"form-control py-1 filter-option"},l.a.createElement("option",{value:"0"},"ALL"),l.a.createElement("option",{value:"1"},"ONFON ZONE"),l.a.createElement("option",{value:"2"},"TESTNAME"),l.a.createElement("option",{value:"3"},"TESTNAME"),l.a.createElement("option",{value:"4"},"TESTNAME")))),datasets:[{fill:!1,label:"Target",backgroundColor:"white",borderColor:"#2196f3",data:[7054,7063,7454,7661,7875,8056,9158,9504,9613,9636,9742,9760]},{fill:!1,label:"Sales",borderColor:"#4caf50",backgroundColor:"white",data:[7020,7127,7293,7329,7544,7631,7772,8688,8853,8969,9779,9924]},{fill:!1,label:"Arrears",borderColor:"#f44336",backgroundColor:"white",data:[7116,7384,7586,7948,8271,8307,8573,8740,9009,9111,9620,9887]}]})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement(E,{title:"Average growth rate",datasets:[Object(h.a)({},this.state.chartDefaults,{label:"Total Income",data:[4753,4340,25538,48505,30044,38824,24393,30590,44654,48626,23198,29082]})]})))))}}]),t}(n.Component),x=a(249),j=a(250),O=a(251),S=a(252),k=a(253),C=a(254),A=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={custom:!0},a.login=function(){var e=a.state.phone,t=a.state.password;if(""===e||""===t)return alert("Please fill in all the required values"),!1;a.setState({disabled:!0}),fetch(window.server+"/authentication",{method:"POST",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:'{"strategy": "local",  "msisdn": "'.concat(window.verifyNumber(e),'", "password": "').concat(t,'"}')}).then(function(e){return e.json()}).then(function(e){if(console.log(e),a.setState({disabled:!1}),401===e.code)return alert(e.message),a.setState({password:""}),!1;e.accessToken&&(localStorage.token=e.accessToken,window.user=e,localStorage.user=JSON.stringify(window.user),window.location="/")}).catch(function(){alert("something went wrong. Please try again later.")})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"d-flex flex-fill flex-column main-cover justify-content-center"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-xl-10 col-lg-12 col-md-9"},l.a.createElement("div",{className:"card o-hidden border-0 shadow-lg my-5"},l.a.createElement("div",{className:"card-body p-0"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 bg-light d-lg-flex d-none  default-bg d-flex align-items-center justify-content-center flex-row"}),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"p-5"},l.a.createElement("div",{className:"text-center"},l.a.createElement("h1",{className:"h4 text-gray-900 mb-4 font-weight-bold"},"Neema lending")),l.a.createElement("div",{className:"text-center mb-4"},l.a.createElement("small",{className:"text-muted"},"Admin login")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"tel",className:"form-control form-control-user",placeholder:"Enter phone Address...",onChange:function(t){e.setState({phone:t.target.value})}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",className:"form-control form-control-user",placeholder:"Password",onChange:function(t){e.setState({password:t.target.value})}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"custom-control custom-checkbox small"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",checked:!0}),l.a.createElement("label",{className:"custom-control-label",for:"customCheck"},"Remember Me"))),l.a.createElement("button",{className:"btn btn-primary btn-user btn-block default-bg",onClick:this.login},"Login"),l.a.createElement("hr",null))))))))))}}]),t}(n.Component),T=a(243),M=a(244),I=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={titles:[],data:[],limit:10,offset:0,count:1,currentPagination:0,custom:!1,customText:"",tableLoading:!0},a.fetchTable=function(){a.setState({tableLoading:!0}),a.props.fetch({$skip:a.state.offset,$limit:a.state.limit})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"d-flex flex-fill flex-column "},l.a.createElement("div",{className:"d-flex flex-row justify-content-between align-items-center mb-3"},l.a.createElement("div",{className:"d-flex flex-column justify-content-center position-relative"},l.a.createElement(T.a,{className:"search-icon",color:"#dedede"}),l.a.createElement("input",{type:"search",className:"form-control pl-5",placeholder:"Search here"})),l.a.createElement("div",{className:"d-flex flex-row align-items-center"},l.a.createElement("span",{className:"mr-2"},"Show "),l.a.createElement("select",{className:"form-control form-control-sm",onChange:function(t){e.setState({limit:parseInt(t.target.value)}),setTimeout(function(){e.fetchTable()},100)}},l.a.createElement("option",{value:10},"10"),l.a.createElement("option",{value:25},"25"),l.a.createElement("option",{value:50},"50"),l.a.createElement("option",{value:100},"100")),l.a.createElement("span",{className:"ml-2"}," entries "))),l.a.createElement("div",{className:"d-flex flex-fill tb-cover position-relative"},this.state.tableLoading&&l.a.createElement("div",{className:"loader h-100 w-100 d-flex flex-row align-items-center justify-content-center show-loader "},l.a.createElement("div",{className:"lds-roller"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null))),!this.state.tableLoading&&!this.state.data.length&&l.a.createElement("div",{className:"w-100 h-100 empty-holder bg-light d-flex flex-row align-items-center justify-content-center"},l.a.createElement("div",{className:"text-muted d-flex flex-column align-items-center"},l.a.createElement(M.a,{size:30}),l.a.createElement("span",{className:"mt-3"},"No Data"))),l.a.createElement("table",{className:"table table-striped text-dark table-bordered table-hover"},l.a.createElement("thead",null,l.a.createElement("tr",null,this.state.titles.map(function(e,t){return l.a.createElement("th",{key:t,className:"text-capitalize"},e.replace(/_/g," "))}))),l.a.createElement("tbody",null,this.state.data.map(function(e,t){return l.a.createElement("tr",{key:t,className:"cursor-pointer"},Object.keys(e).map(function(t,a){var n=null==e[t]||""==e[t]?" - ":e[t];return l.a.createElement("td",{key:a,className:"table-data"},n)}))})))),l.a.createElement("div",{className:"d-flex flex-row justify-content-between align-items-center"},l.a.createElement("div",{className:"d-flex flex-row align-items-center"},l.a.createElement("span",{className:"mr-2"},"Showing ",this.state.offset," to"," ",this.state.offset+this.state.limit," of ",this.state.count," ","entries"," ")),l.a.createElement("div",null,l.a.createElement("nav",{"aria-label":"Page navigation example"},l.a.createElement("ul",{className:"pagination"},l.a.createElement("li",{className:"page-item"},l.a.createElement("button",{className:"page-link",onClick:function(){e.setState({offset:0,currentPagination:0}),setTimeout(function(){e.fetchTable()},100)}},"\xab")),l.a.createElement("li",{className:"page-item",onClick:function(){e.state.currentPagination-1>=0&&e.setState({offset:(e.state.currentPagination-1)*e.state.offset,currentPagination:e.state.currentPagination-1}),setTimeout(function(){e.fetchTable()},100)}},l.a.createElement("button",{className:"page-link"},"<")),this.generatePagination(this.state.currentPagination),l.a.createElement("li",{className:"page-item"},l.a.createElement("button",{className:"page-link",onClick:function(){e.state.currentPagination+1<parseInt(e.state.count/e.state.limit)&&(e.setState({offset:(e.state.currentPagination+1)*e.state.limit,currentPagination:e.state.currentPagination+1}),setTimeout(function(){e.fetchTable()},100))}},">")),l.a.createElement("li",{className:"page-item"},l.a.createElement("button",{className:"page-link",onClick:function(){e.setState({offset:e.state.count-e.state.limit,currentPagination:parseInt(e.state.count/e.state.limit)}),setTimeout(function(){e.fetchTable()},100)}},"\xbb"))))))))}},{key:"componentDidMount",value:function(){this.fetchTable()}},{key:"generatePagination",value:function(){var e=this,t=parseInt(this.state.count),a=this.state.limit,n=this.state.offset,c=[],r=t/a,s=parseInt(r*(n/t));(s-=2)<0&&(s=0);var i=s;i+5>r&&(i=i-5-(i-r));for(var o=function(){var t=s;c.push(l.a.createElement("li",{key:t,className:"page-item "+(e.state.currentPagination===s?"active":"")},l.a.createElement("button",{className:"page-link",onClick:function(){var n=t*a;e.setState({offset:n,currentPagination:t}),setTimeout(function(){e.fetchTable()},100)}},t+1))),s++};s<i+5;)o();return c}},{key:"componentWillReceiveProps",value:function(e){if("object"==typeof e.data.data){var t,a=e.data.data;t=0===a.length?this.state.titles:Object.keys(a[0]),this.setState({data:a,titles:t,count:e.data.total,tableLoading:!1})}}}]),t}(n.Component),_=a(42),L=(a(90),a(91),a(14)),z=a.n(L),D=a(245),J=a(246),B=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={ranges:{startDate:new Date,endDate:new Date,key:"selection"},zone:window.zones[0].id,branch:window.branches[0].id,dateVisible:!1,filter:[]},a.updateFilter=function(){var e={};0!==a.state.zone&&(e={zone_id:a.state.zone}),e=Object(h.a)({},e,a.state.filter),a.props.getFilter(e)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"d-flex flex-row justify-content-between my-3 position-relative"},l.a.createElement("div",{className:"d-flex flex-row"},this.props.branches&&l.a.createElement("div",{className:"mx-2 flex-column"},l.a.createElement("small",{className:"mb-2 font-weight-bold"},"Branch "),l.a.createElement("select",{name:"",id:"",className:"form-control py-1 filter-option",onChange:function(t){return e.setState({branch:parseInt(t.target.value)})}},window.branches.map(function(e){return l.a.createElement("option",{value:e.id},e.branch_name)}))),this.props.zone&&l.a.createElement("div",{className:"mx-2 flex-column"},l.a.createElement("small",{className:"mb-2 font-weight-bold"},"Zone "),l.a.createElement("select",{name:"",id:"",className:"form-control py-1 filter-option",onChange:function(t){return e.setState({zone:parseInt(t.target.value)})}},window.zones.map(function(t,a){return(t.branch_id===e.state.branch||0===e.state.branch)&&l.a.createElement("option",{value:t.id,key:a},t.zone_name)}))),this.props.filter&&l.a.createElement("div",{className:"mx-2 flex-column"},l.a.createElement("small",{className:"mb-2 font-weight-bold"},"Filter "),l.a.createElement("select",{name:"",id:"",className:"form-control py-1 filter-option",onChange:function(t){var a=parseInt(t.target.value);if(0!==a){var n={};n[e.props.filter[a].name]=e.props.filter[a].value,e.setState({filter:n})}else e.setState({filter:[]})}},this.props.filter.map(function(e,t){return l.a.createElement("option",{value:t,key:t},e.label)})))),l.a.createElement("div",{className:"mx-2 flex-column"},l.a.createElement("small",{className:"mb-2 font-weight-bold"},"Date range "),l.a.createElement("div",{className:"form-control filter-option py-0 d-flex flex-row align-items-center noselect",onClick:function(){e.setState({dateVisible:!0})}},l.a.createElement("span",null,l.a.createElement("b",null,"From"),z()(this.state.ranges.startDate).format(" MMMM Do YYYY "),l.a.createElement("b",null,"\xa0\xa0 To"),z()(this.state.ranges.endDate).format(" MMMM Do YYYY ")))),l.a.createElement("div",{className:"card date-card "+(this.state.dateVisible?"":"d-none")},l.a.createElement(_.DateRangePicker,{ranges:[this.state.ranges],onChange:function(t){return e.updateDateRange(t)}}),l.a.createElement("div",{className:"p-3 text-center d-flex flex-row justify-content-between"},l.a.createElement("button",{onClick:function(){e.setState({dateVisible:!1})},className:"btn btn-outline-danger btn-sm d-flex flex-row align-items-center align-self-center pr-4"},l.a.createElement(D.a,{size:18})," ",l.a.createElement("span",{className:"ml-2"},"Cancel")),l.a.createElement("button",{onClick:function(){e.setState({dateVisible:!1})},className:"btn btn-primary btn-sm d-flex flex-row align-items-center align-self-center pr-4"},l.a.createElement(J.a,{size:18})," ",l.a.createElement("span",{className:"ml-2"},"Done"))))),l.a.createElement("div",{onClick:function(){e.setState({dateVisible:!1})},className:"date-bg-cover cursor-pointer "+(this.state.dateVisible?"":"d-none")}))}},{key:"updateDateRange",value:function(e){e&&this.setState({ranges:e.selection})}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(this.state)!==JSON.stringify(t)&&this.updateFilter()}}]),t}(n.Component),q=a(247),V=a(248),F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={tableData:{data:[]},tableError:!1,query:{},status:[{value:1,label:"Total clients",number:2400,amount:"",color:"material-blue"},{value:1,label:"Active clients",number:2400,amount:4e4,color:"material-green"},{value:1,label:"Cleared clients",number:2400,amount:4e4,color:"material-teal"},{value:1,label:"Inactive clients",number:2400,amount:4e4,color:"material-orange"},{value:1,label:"Dormant clients",number:2400,amount:4e4,color:"material-deep-orange"},{value:1,label:"Defaulted clients",number:2400,amount:4e4,color:"material-red"}]},a.timeout=null,a.fetchClients=function(){a.setState({tableError:!1});var e=Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&");console.log(e),fetch("".concat(window.server,"/users?").concat(Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&"),"&user_type=1"),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e);var t=[];e.data.map(function(e){t.push({"User ID":e.user_id,"Full Name":e.full_names,email:e.email,gender:["","Male","Female"][e.gender_id],identification:e.identification,"Marital status":["","Single","Married"][e.marital_status_id],balance:e.balance,"Phone Number":e.msisdn,zone:e.zones[0].zone_name,action:l.a.createElement(l.a.Fragment,null,l.a.createElement(b.b,{to:"clientView/details/"+e.user_id,className:"btn btn-sm btn-primary"},"View")," ")})}),e.data=t,a.setState({tableData:e})}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"p-3 "},l.a.createElement("div",{className:"d-flex flex-row align-items-center justify-content-between"},l.a.createElement("h2",{className:"font-weight-bol mb-0"},"Clients"),l.a.createElement(b.b,{to:"/clientAdd",className:"option-card pr-3 d-flex flex-row btn align-items-center btn-primary btn-sm btn-round"},l.a.createElement(q.a,{size:18})," ",l.a.createElement("span",{className:"pl-1"},"Add a Client"))),l.a.createElement("div",{className:"row my-5 justify-content-center align-items-start"},this.state.status.map(function(e,t){return l.a.createElement(b.b,{key:t,to:"/clientStatus/"+e.value,className:"col-md-3 mb-3 icon btn"},l.a.createElement("div",{className:"card client-status text-white "+e.color},l.a.createElement("div",{className:"card-header trg-header d-flex flex-row align-items-center justify-content-between"},l.a.createElement(V.a,{className:""}),l.a.createElement("span",{className:"title font-weight-bold"},e.label),l.a.createElement(V.a,{className:"opacity-0"})),l.a.createElement("div",{className:"card-body text-white text-center"},l.a.createElement("h3",{className:"font-weight-bold"},e.number.toLocaleString()),""!==e.amount&&l.a.createElement("span",null,"Kshs ",e.amount.toLocaleString()," Total"),""===e.amount&&l.a.createElement("br",null))))})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement(E,{title:"Clients",filters:l.a.createElement("div",{className:"d-flex flex-row"},l.a.createElement("div",{className:"mx-2 flex-column"},l.a.createElement("small",{className:"mb-2 font-weight-bold"},"Branch "),l.a.createElement("select",{name:"",id:"",className:"form-control py-1 filter-option"},l.a.createElement("option",{value:"0"},"ALL"),l.a.createElement("option",{value:"1"},"NAIROBI"),l.a.createElement("option",{value:"2"},"BranchNAME"),l.a.createElement("option",{value:"3"},"BranchNAME"),l.a.createElement("option",{value:"4"},"BranchNAME"))),l.a.createElement("div",{className:"mx-2 flex-column"},l.a.createElement("small",{className:"mb-2 font-weight-bold"},"Zone "),l.a.createElement("select",{name:"",id:"",className:"form-control py-1 filter-option"},l.a.createElement("option",{value:"0"},"ALL"),l.a.createElement("option",{value:"1"},"ONFON ZONE"),l.a.createElement("option",{value:"2"},"TESTNAME"),l.a.createElement("option",{value:"3"},"TESTNAME"),l.a.createElement("option",{value:"4"},"TESTNAME")))),datasets:[{fill:!1,label:"Active",backgroundColor:"white",borderColor:"#2196f3",data:[7054,7063,7454,7661,7875,8056,9158,9504,9613,9636,9742,9760]},{fill:!1,label:"Inactive",borderColor:"#4caf50",backgroundColor:"white",data:[7020,7127,7293,7329,7544,7631,7772,8688,8853,8969,9779,9924]},{fill:!1,label:"Dormant",borderColor:"#f44336",backgroundColor:"white",data:[7116,7384,7586,7948,8271,8307,8573,8740,9009,9111,9620,9887,7875,8056,9158]},{fill:!1,label:"Defaulted",borderColor:"#f44336",backgroundColor:"white",data:[7116,7384,7586,7948,7116,7384,7586,7948,9111,9620,9887]},{fill:!1,label:"Cleared",borderColor:"#f44336",backgroundColor:"white",data:[9158,9504,9613,9636,9742,9760,7948,8271,7116,7384,7586,9009,9111,9620,9887]}]})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement(E,{title:"Average growth rate",datasets:[Object(h.a)({},this.state.chartDefaults,{label:"Total Clients",data:[4753,4340,25538,48505,30044,38824,24393,30590,44654,48626,23198,29082]})]}))))}},{key:"componentDidUpdate",value:function(e,t){if(JSON.stringify(this.state.query)!==JSON.stringify(t.query)){var a=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.fetchClients()},100)}}}]),t}(n.Component),Y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={tableData:{data:[]},tableError:!1,query:{},filter:{},status:[{value:1,label:"Total Loans",number:2400,amount:"",color:"material-blue"},{value:1,label:"Active Loans",number:2400,amount:4e4,color:"material-green"},{value:1,label:"Prepaid Loans",number:2400,amount:4e4,color:"material-teal"},{value:1,label:"Inactive Loans",number:2400,amount:4e4,color:"material-orange"},{value:1,label:"Dormant Loans",number:2400,amount:4e4,color:"material-deep-orange"},{value:1,label:"Defaulted Loans",number:2400,amount:4e4,color:"material-red"},{value:1,label:"Pending Loans",number:2400,amount:4e4,color:"material-deep-purple"}]},a.timeout=null,a.fetchClients=function(){var e=Object(h.a)({},a.state.query,a.state.filter);a.setState({tableError:!1});var t=Object.entries(e).map(function(e){return e.join("=")}).join("&");fetch("".concat(window.server,"/loans?").concat(t),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){var t=[];l.a.createElement("button",{className:"btn btn-outline-primary btn-sm"},"Loan Created"),l.a.createElement("button",{className:"btn btn-primary btn-sm"},"Loan Active"),l.a.createElement("button",{className:"btn btn-success btn-sm"},"Loan Repaid"),l.a.createElement("button",{className:"btn btn-danger btn-sm"},"Loan Defaulted");e.data.map(function(e){t.push({"Start Date":e.loan_start_date,"Loan ID":e.loan_id,Description:"","Client Name":e.client[0].full_names,"Amount disbursed":"kes "+e.loan_amount_disbursed.toLocaleString(),"Loan Amount":"kes "+e.loan_amount.toLocaleString(),Balance:"kes "+e.loan_amount_paid.toLocaleString(),"Loan Installments":e.loan_installments.toLocaleString(),action:l.a.createElement(l.a.Fragment,null,l.a.createElement(b.b,{to:"loanView/"+e.loan_id,className:"btn btn-sm btn-primary"},"View")," ")})}),e.data=t,a.setState({tableData:e})}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"p-3 "},l.a.createElement("div",{className:"d-flex flex-row align-items-center justify-content-between"},l.a.createElement("h2",{className:""},"Loans"),l.a.createElement(b.b,{to:"/loanAdd/",className:"option-card pr-3 d-flex flex-row btn align-items-center btn-primary  btn-round"},l.a.createElement(q.a,{size:18})," ",l.a.createElement("span",{className:"pl-1"},"Add a Loan"))),l.a.createElement("div",{className:"row my-5 justify-content-center align-items-start"},this.state.status.map(function(e){return l.a.createElement(b.b,{to:"/loanStatus/"+e.value,className:"col-md-3 mb-3 icon btn"},l.a.createElement("div",{className:"card client-status text-white "+e.color},l.a.createElement("div",{className:"card-header trg-header d-flex flex-row align-items-center justify-content-between"},l.a.createElement(V.a,{className:""}),l.a.createElement("span",{className:"title font-weight-bold"},e.label),l.a.createElement(V.a,{className:"opacity-0"})),l.a.createElement("div",{className:"card-body text-white text-center"},l.a.createElement("h3",{className:"font-weight-bold"},e.number.toLocaleString()),""!==e.amount&&l.a.createElement("span",null,"Kshs ",e.amount.toLocaleString()," Total"),""===e.amount&&l.a.createElement("br",null))))})),l.a.createElement("div",{className:"col-md-6 my-5"},l.a.createElement(E,{title:"Loans perfomance Analysis",filters:l.a.createElement("div",{className:"d-flex flex-row"},l.a.createElement("div",{className:"mx-2 flex-column"},l.a.createElement("small",{className:"mb-2 font-weight-bold"},"Branch "),l.a.createElement("select",{name:"",id:"",className:"form-control py-1 filter-option"},l.a.createElement("option",{value:"0"},"ALL"),l.a.createElement("option",{value:"1"},"NAIROBI"),l.a.createElement("option",{value:"2"},"BranchNAME"),l.a.createElement("option",{value:"3"},"BranchNAME"),l.a.createElement("option",{value:"4"},"BranchNAME"))),l.a.createElement("div",{className:"mx-2 flex-column"},l.a.createElement("small",{className:"mb-2 font-weight-bold"},"Zone "),l.a.createElement("select",{name:"",id:"",className:"form-control py-1 filter-option"},l.a.createElement("option",{value:"0"},"ALL"),l.a.createElement("option",{value:"1"},"ONFON ZONE"),l.a.createElement("option",{value:"2"},"TESTNAME"),l.a.createElement("option",{value:"3"},"TESTNAME"),l.a.createElement("option",{value:"4"},"TESTNAME")))),datasets:[{fill:!1,label:"Active loans",backgroundColor:"white",borderColor:"#4CAF50",data:[7054,7063,7454,7661,7875,8056,9158,9504,9613,9636,9742,9760]},{fill:!1,label:"Repaid loans",borderColor:"#f44336",backgroundColor:"white",data:[7020,7127,7293,7329,7544,7631,7772,8688,8853,8969,9779,9924]},{fill:!1,label:"Defaulted  loans",borderColor:"#E91E63",backgroundColor:"white",data:[7116,7384,7586,7948,8271,8307,8573,8740,9009,9111,9620,9887]}]})))}},{key:"componentDidUpdate",value:function(e,t){if(JSON.stringify(this.state)!==JSON.stringify(t)){var a=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.fetchClients()},100)}}}]),t}(n.Component),U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={tableData:{data:[]},tableError:!1,query:{}},a.timeout=null,a.fetchClients=function(){a.setState({tableError:!1});var e=Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&");console.log(e),fetch("".concat(window.server,"/transactions?").concat(Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&")),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e);var t=[];l.a.createElement("button",{className:"btn btn-outline-primary btn-sm"},"Loan Created"),l.a.createElement("button",{className:"btn btn-primary btn-sm"},"Loan Active"),l.a.createElement("button",{className:"btn btn-success btn-sm"},"Loan Repaid"),l.a.createElement("button",{className:"btn btn-danger btn-sm"},"Loan Defaulted");e.data.map(function(e){t.push({Time:e.created_at,transaction_id:e.transaction_id,description:e.description,"Cash Out":e.dr,"Cash in":e.cr,"New Balance":e.new_bal})}),e.data=t,a.setState({tableData:e})}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"p-3 "},l.a.createElement("div",{className:"d-flex flex-row align-items-center justify-content-between"},l.a.createElement("h3",{className:"font-weight-bold"},"Transactions")),l.a.createElement(B,{getFilter:function(t){setTimeout(function(){e.setState({query:Object(h.a)({},e.state.query,t)})},0)},filter:window.accounts.map(function(e){return{label:e.description,name:"account_id",value:e.account_type_id}})}),l.a.createElement("div",{className:"mt-4"},l.a.createElement(I,{data:this.state.tableData,fetch:function(t){e.setState({query:Object(h.a)({},e.state.query,t)})},fetchError:this.state.tableError})))}},{key:"componentDidUpdate",value:function(e,t){if(JSON.stringify(this.state.query)!==JSON.stringify(t.query)){var a=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.fetchClients()},100)}}}]),t}(n.Component),W=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"p-3 "},l.a.createElement("div",{className:"d-flex flex-row align-items-center justify-content-between"},l.a.createElement("h3",{className:"font-weight-bold"},"Notifications")),l.a.createElement(B,{filter:[{name:"All",value:0}]}),l.a.createElement("div",{className:"mt-4"},l.a.createElement(I,null)))}}]),t}(n.Component),Z=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={tableData:{data:[]},tableError:!1,query:{}},a.timeout=null,a.fetchClients=function(){a.setState({tableError:!1});var e=Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&");console.log(e),fetch("".concat(window.server,"/users?").concat(Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&"),"&user_type=2"),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e);var t=[];e.data.map(function(e){t.push({"User ID":e.user_id,"Agent ID":e.agent_id,"Full Name":e.full_names,email:e.email,gender:["","Male","Female"][e.gender_id],identification:e.identification,"Marital status":["","Single","Married"][e.marital_status_id],balance:e.balance,"Phone Number":e.msisdn,zone:e.zone.zone_name,action:l.a.createElement(l.a.Fragment,null,l.a.createElement(b.b,{to:"officerView/details/"+e.user_id,className:"btn btn-sm btn-primary"},"View"))})}),e.data=t,a.setState({tableData:e})}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"p-3 "},l.a.createElement("div",{className:"d-flex flex-row align-items-center justify-content-between"},l.a.createElement("h3",{className:"font-weight-bold"},"Officers"),l.a.createElement(b.b,{to:"/officerAdd",className:"option-card pr-3 d-flex flex-row btn align-items-center btn-primary btn-sm btn-round"},l.a.createElement(q.a,{size:18})," ",l.a.createElement("span",{className:"pl-1"},"Add an Officer"))),l.a.createElement(B,{branches:!0,zone:!0,getFilter:function(t){setTimeout(function(){e.setState({query:Object(h.a)({},e.state.query,t)})},0)}}),l.a.createElement("div",{className:"mt-4"},l.a.createElement(I,{data:this.state.tableData,fetch:function(t){e.setState({query:Object(h.a)({},e.state.query,t)})},fetchError:this.state.tableError})))}},{key:"componentDidUpdate",value:function(e,t){if(JSON.stringify(this.state.query)!==JSON.stringify(t.query)){var a=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.fetchClients()},100)}}}]),t}(n.Component),P=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={tableData:{data:[]},tableError:!1,query:{}},a.timeout=null,a.fetchClients=function(){a.setState({tableError:!1});var e=Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&");console.log(e),fetch("".concat(window.server,"/branches?").concat(Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&")),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({tableData:e})}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"p-3 "},l.a.createElement("div",{className:"d-flex flex-row align-items-center justify-content-between"},l.a.createElement("h3",{className:"font-weight-bold"},"Branches"),l.a.createElement(b.b,{to:"/branchAdd",className:"option-card pr-3 d-flex flex-row btn align-items-center btn-primary btn-sm btn-round"},l.a.createElement(q.a,{size:18})," ",l.a.createElement("span",{className:"pl-1"},"Create a New Branch"))),l.a.createElement("div",{className:"col-md-6 my-5"},l.a.createElement(E,{title:"Branches perfomance",filters:l.a.createElement("div",{className:"d-flex flex-row"},l.a.createElement("div",{className:"mx-2 flex-column"},l.a.createElement("small",{className:"mb-2 font-weight-bold"},"Branch "),l.a.createElement("select",{name:"",id:"",className:"form-control py-1 filter-option"},l.a.createElement("option",{value:"0"},"ALL"),l.a.createElement("option",{value:"1"},"NAIROBI"),l.a.createElement("option",{value:"2"},"BranchNAME"),l.a.createElement("option",{value:"3"},"BranchNAME"),l.a.createElement("option",{value:"4"},"BranchNAME")))),datasets:[{fill:!1,label:"Branch 1",backgroundColor:"white",data:[7021,7159,8026,8491,8558,8581,8675,8912,9223,9457,9595,9754]},{fill:!1,label:"Branch 2",borderColor:"#f44336",backgroundColor:"white",data:[7043,7224,7514,7855,8438,8505,8647,9025,9129,9419,9470,9755]},Object(h.a)({},this.state.chartDefaults,{fill:!1,label:"Branch 3",borderColor:"#E91E63",backgroundColor:"white",data:[7153,7329,7681,7720,8061,8310,8326,9063,9127,9337,9707,9763]}),{fill:!1,label:"Branch 3",borderColor:"#673AB7",backgroundColor:"white",data:[7422,7963,8057,8155,8350,8373,8477,8853,9406,9487,9691,9703]},{fill:!1,label:"Branch 3",borderColor:"#2196F3",backgroundColor:"white",data:[7394,7549,7987,8392,8406,8414,9106,9407,9817,9822,9877,9886]}]})),l.a.createElement(B,{filter:[{name:"All clients",value:0},{name:"Dormat clients",value:20},{name:"New clients",value:20},{name:"Served clients",value:20}],getFilter:function(t){setTimeout(function(){e.setState({query:Object(h.a)({},e.state.query,t)})},0)}}),l.a.createElement("div",{className:"mt-4"},l.a.createElement(I,{data:this.state.tableData,fetch:function(t){e.setState({query:Object(h.a)({},e.state.query,t)})},fetchError:this.state.tableError})))}},{key:"componentDidUpdate",value:function(e,t){if(JSON.stringify(this.state.query)!==JSON.stringify(t.query)){var a=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.fetchClients()},100)}}}]),t}(n.Component),Q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={tableData:{data:[]},tableError:!1,query:{}},a.timeout=null,a.fetchClients=function(){a.setState({tableError:!1});var e=Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&");console.log(e),fetch("".concat(window.server,"/zone?").concat(Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&")),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({tableData:e})}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"p-3 "},l.a.createElement("div",{className:"d-flex flex-row align-items-center justify-content-between"},l.a.createElement("h3",{className:"font-weight-bold"},"Zones"),l.a.createElement(b.b,{to:"/zoneAdd",className:"option-card pr-3 d-flex flex-row btn align-items-center btn-primary btn-sm btn-round"},l.a.createElement(q.a,{size:18})," ",l.a.createElement("span",{className:"pl-1"},"Create a New Zone"))),l.a.createElement("div",{className:"col-md-6 my-5"},l.a.createElement(E,{title:"Zones perfomance",filters:l.a.createElement("div",{className:"d-flex flex-row"},l.a.createElement("div",{className:"mx-2 flex-column"},l.a.createElement("small",{className:"mb-2 font-weight-bold"},"Branch "),l.a.createElement("select",{name:"",id:"",className:"form-control py-1 filter-option"},l.a.createElement("option",{value:"0"},"ALL"),l.a.createElement("option",{value:"1"},"NAIROBI"),l.a.createElement("option",{value:"2"},"BranchNAME"),l.a.createElement("option",{value:"3"},"BranchNAME"),l.a.createElement("option",{value:"4"},"BranchNAME"))),l.a.createElement("div",{className:"mx-2 flex-column"},l.a.createElement("small",{className:"mb-2 font-weight-bold"},"Zone "),l.a.createElement("select",{name:"",id:"",className:"form-control py-1 filter-option"},l.a.createElement("option",{value:"0"},"ALL"),l.a.createElement("option",{value:"1"},"ONFON ZONE"),l.a.createElement("option",{value:"2"},"TESTNAME"),l.a.createElement("option",{value:"3"},"TESTNAME"),l.a.createElement("option",{value:"4"},"TESTNAME")))),datasets:[{fill:!1,label:"Branch 1",backgroundColor:"white",data:[7054,7063,7454,7661,7875,8056,9158,9504,9613,9636,9742,9760]},{fill:!1,label:"Branch 2",borderColor:"#f44336",backgroundColor:"white",data:[7020,7127,7293,7329,7544,7631,7772,8688,8853,8969,9779,9924]},{fill:!1,label:"Branch 3",borderColor:"#E91E63",backgroundColor:"white",data:[7116,7384,7586,7948,8271,8307,8573,8740,9009,9111,9620,9887]},{fill:!1,label:"Branch 3",borderColor:"#673AB7",backgroundColor:"white",data:[7306,7517,7576,7888,7940,7978,8225,8314,8427,9088,9346,9487]},{fill:!1,label:"Branch 3",borderColor:"#2196F3",backgroundColor:"white",data:[7394,7549,7987,8392,8406,8414,9106,9407,9817,9822,9877,9886]}]})),l.a.createElement(B,{filter:[{name:"All clients",value:0},{name:"Dormat clients",value:20},{name:"New clients",value:20},{name:"Served clients",value:20}],getFilter:function(t){setTimeout(function(){e.setState({query:Object(h.a)({},e.state.query,t)})},0)}}),l.a.createElement("div",{className:"mt-4"},l.a.createElement(I,{data:this.state.tableData,fetch:function(t){e.setState({query:Object(h.a)({},e.state.query,t)})},fetchError:this.state.tableError})))}},{key:"componentDidUpdate",value:function(e,t){if(JSON.stringify(this.state.query)!==JSON.stringify(t.query)){var a=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.fetchClients()},100)}}}]),t}(n.Component),R=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={inputs:a.props.inputs},a.submit=function(){var e=a.state.inputs,t={};e.map(function(e){"undefined"!==typeof e.name&&(t[e.name]=e.value)}),a.props.submit(t)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"pb-3 pt-5 bg-light border-top d-flex flex-fill"},l.a.createElement("div",{className:"container"},this.state.inputs.map(function(t,a){var n;return"break"==t.type?l.a.createElement("hr",{className:"my-4 mx-3"}):(n="select"==t.type?l.a.createElement("select",{className:"form-control",value:t.value,onChange:function(t){var n=e.state.inputs;n[a].value=t.target.value,e.setState({inputs:n})}},t.options.map(function(e,t){return l.a.createElement("option",{key:t,value:e.value},e.name)})):l.a.createElement("input",{type:t.type,placeholder:"...",className:"form-control text-input",value:t.value,onChange:function(t){var n=e.state.inputs;n[a].value=t.target.value,e.setState({inputs:n})}}),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},t.label),n))}),l.a.createElement("div",{className:" my-3 d-flex flex-row justify-content-between mt-5"},l.a.createElement("button",{className:"btn btn-primary px-5  ml-3",onClick:this.submit},"Submit"),l.a.createElement("button",{className:"btn btn-outline-primary px-5  ml-5",onClick:function(){window.confirm("Reset form ?")&&e.setState({inputs:e.prevData})}},"Reset form"))))}},{key:"componentDidMount",value:function(){this.prevData=this.state.inputs}}]),t}(n.Component),G=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={activeSlide:0,files:[]},a.addClient=function(e){console.log(JSON.stringify(e)),fetch("".concat(window.server,"/users"),{method:"POST",headers:{Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6ImFjY2VzcyJ9.eyJ1c2VySWQiOjEsImlhdCI6MTU2Mzk1MzY0OSwiZXhwIjoxNTY1NjgxNjQ5LCJhdWQiOiJodHRwczovL25lZW1heWFtdW5ndS5jb20iLCJpc3MiOiJuZWVtYSBhcGkiLCJzdWIiOiJuZWVtYXlhbXVuZ3UiLCJqdGkiOiJmY2IxOTczMS04NTY5LTQwMjktYmM2MC0zMTQ2YTVlOTA4NTkifQ.n5CBbZXo2IdBjUcvBMSOq4wk21mpn6rej_JPF_Qz3Eg","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){console.log(e),400===e.code?alert(e.message):(alert("successfully added"),a.setState({user_id:"U0WO33PGVLSIB",activeSlide:1}))}).catch(function(e){alert("Error saving the data"),console.log(e)})},a.uploadFiles=function(){var e=new FormData;if(a.state.files.length<0)return alert("Please add atleast one file."),!1;a.state.files.map(function(t){e.append("files",t)}),e.append("user_id",a.state.user_id),fetch("".concat(window.server,"/users"),{method:"POST",headers:{Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6ImFjY2VzcyJ9.eyJ1c2VySWQiOjEsImlhdCI6MTU2Mzk1MzY0OSwiZXhwIjoxNTY1NjgxNjQ5LCJhdWQiOiJodHRwczovL25lZW1heWFtdW5ndS5jb20iLCJpc3MiOiJuZWVtYSBhcGkiLCJzdWIiOiJuZWVtYXlhbXVuZ3UiLCJqdGkiOiJmY2IxOTczMS04NTY5LTQwMjktYmM2MC0zMTQ2YTVlOTA4NTkifQ.n5CBbZXo2IdBjUcvBMSOq4wk21mpn6rej_JPF_Qz3Eg"},body:e}).then(function(e){return e.json()}).then(function(e){console.log(e),400===e.code?alert(e.message):(alert("successfully added"),a.setState({activeSlide:2}))}).catch(function(e){alert("Error saving the data"),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"p-3"},l.a.createElement("div",{className:"container"},l.a.createElement("h3",{className:"font-weight-bold mb-0"},"Add a Client"),l.a.createElement("small",{className:"text-muted ml-2"},"Clients > Add a Client"))),0===this.state.activeSlide&&l.a.createElement("div",{className:""},l.a.createElement("div",{className:"container"},l.a.createElement("h3",null,"1. Client details")),l.a.createElement(R,{inputs:[{label:"Full name",name:"full_names",value:"Boniface Mbaria"},{label:"Phone number",name:"msisdn",value:"254715229228"},{label:"Email address",name:"email",value:"bndibx@gmail.com",type:"email"},{label:"Gender",name:"gender_id",value:"1",type:"select",options:[{name:"Male",value:1},{name:"Female",value:"2"}]},{label:"Password",name:"password",value:"qwerty",type:"password"},{type:"break"},{label:"Identification Type",name:"identification_type",value:"1",type:"select",options:[{name:"Identity Card",value:1},{name:"Passport Number",value:2}]},{label:"ID number",name:"identification",value:"29495518"},{label:"Marital status",name:"marital_status_id",value:"1",type:"select",options:[{name:"Single",value:1},{name:"Married",value:2}]},{label:"Zone",name:"zone_id",value:"1",type:"select",options:Object(s.a)(window.zones.map(function(e,t){return{name:e.zone_name,value:e.id}}))}],submit:function(t){return e.setState({activeSlide:1})}})),1===this.state.activeSlide&&l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement("h3",null,"2. Documents")),l.a.createElement("div",{className:"bg-light py-5"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"d-flex flex-row flex-wrap"},l.a.createElement("div",null,l.a.createElement("h5",{className:"ml-1 mb-2 d-block font-weight-bold"},"ID front"),l.a.createElement("label",{className:"id-card d-flex flex-row align-items-center justify-content-center"},l.a.createElement("input",{type:"file",placeholder:"...",className:"form-control p-1 d-none",accept:"image/*",onChange:function(t){e.setState({IDfront:t.target.files[0]})}}),l.a.createElement("div",{className:"d-flex flex-row align-items-center text-dark"},l.a.createElement(q.a,null),l.a.createElement("h5",{className:"ml-2 mb-0"},"Chooose a file")),this.state.IDfront&&l.a.createElement("img",{src:URL.createObjectURL(this.state.IDfront),className:"id-img",alt:""}))),l.a.createElement("div",{className:"ml-5"},l.a.createElement("h5",{className:"ml-1 mb-2 d-block font-weight-bold"},"ID Back"),l.a.createElement("label",{className:"id-card d-flex flex-row align-items-center justify-content-center"},l.a.createElement("input",{type:"file",placeholder:"...",className:"form-control p-1 d-none",accept:"image/*",onChange:function(t){e.setState({IDBack:t.target.files[0]})}}),l.a.createElement("div",{className:"d-flex flex-row align-items-center text-dark"},l.a.createElement(q.a,null),l.a.createElement("h5",{className:"ml-2 mb-0"},"Chooose a file")),this.state.IDBack&&l.a.createElement("img",{src:URL.createObjectURL(this.state.IDBack),className:"id-img",alt:""})))),l.a.createElement("div",{className:" my-3 d-flex flex-row justify-content-between mt-5"},l.a.createElement("button",{className:"btn btn-primary px-5  ml-3",onClick:function(){return e.setState({activeSlide:2})}},"Submit"),l.a.createElement("button",{className:"btn btn-outline-primary px-5  ml-5"},"Reset form"))))),2===this.state.activeSlide&&l.a.createElement("div",null,l.a.createElement("div",{className:"container d-flex flex-row justify-content-between align-items-center mb-3"},l.a.createElement("h3",null,"3. Add a Business"),l.a.createElement("button",{className:"btn btn-primary px-5  ml-3",onClick:function(){return e.setState({activeSlide:3})}},"Skip")),l.a.createElement("div",{className:"py-3 bg-light border-top d-flex flex-fill"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Business Name"),l.a.createElement("input",{placeholder:"...",className:"form-control text-input"})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Business Registration Number"),l.a.createElement("input",{placeholder:"...",className:"form-control text-input"})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Business Description"),l.a.createElement("input",{type:"textarea",placeholder:"...",className:"form-control text-input"})),l.a.createElement("hr",{className:"my-4 mx-3"}),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Location Description"),l.a.createElement("input",{placeholder:"...",className:"form-control text-input"})),l.a.createElement("div",{className:"d-flex flex-row"},l.a.createElement("div",{className:"ml-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block font-weight-bold"},"Business location"),l.a.createElement("div",{className:"map-card card"},l.a.createElement("iframe",{title:"document-map",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3988.7337109204586!2d36.891327514958746!3d-1.336003499025586!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x182f1273fbf5e9f3%3A0x3333f1e957f8404f!2sOnfon+Media+Ltd!5e0!3m2!1sen!2ske!4v1564652443634!5m2!1sen!2ske",frameborder:"0",allowfullscreen:!0,className:"h-100"}))),l.a.createElement("div",{className:"ml-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Store Front Photo"),l.a.createElement("label",{className:"id-card d-flex flex-row align-items-center justify-content-center"},l.a.createElement("input",{type:"file",placeholder:"...",className:"form-control p-1 d-none",accept:"image/*",onChange:function(t){e.setState({StoreFront:t.target.files[0]})}}),l.a.createElement("div",{className:"d-flex flex-row align-items-center text-dark"},l.a.createElement(q.a,null),l.a.createElement("h5",{className:"ml-2 mb-0"},"Chooose a file")),this.state.StoreFront&&l.a.createElement("img",{src:URL.createObjectURL(this.state.StoreFront),className:"id-img",alt:""})))),l.a.createElement("div",{className:" my-3 d-flex flex-row justify-content-between mt-5"},l.a.createElement("button",{className:"btn btn-primary px-5  ml-3"},"Submit"))))),3===this.state.activeSlide&&l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement("h3",null,"4. Create a guarantor")),l.a.createElement("div",{className:"py-3 bg-light border-top d-flex flex-fill"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Guarantor Name"),l.a.createElement("input",{placeholder:"...",className:"form-control text-input"})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Identification Type"),l.a.createElement("select",{className:"form-control"})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Identification"),l.a.createElement("input",{type:"textarea",placeholder:"...",className:"form-control text-input"})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Description"),l.a.createElement("textarea",{placeholder:"...",className:"form-control text-input"})),l.a.createElement("hr",{className:"my-4 mx-3"}),l.a.createElement("div",{className:"d-flex flex-row"},l.a.createElement("div",{className:"ml-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block font-weight-bold"},"ID Front"),l.a.createElement("label",{className:"id-card d-flex flex-row align-items-center justify-content-center"},l.a.createElement("input",{type:"file",placeholder:"...",className:"form-control p-1 d-none",accept:"image/*",onChange:function(t){e.setState({GIDFront:t.target.files[0]})}}),l.a.createElement("div",{className:"d-flex flex-row align-items-center text-dark"},l.a.createElement(q.a,null),l.a.createElement("h5",{className:"ml-2 mb-0"},"Choose a file")),this.state.GIDFront&&l.a.createElement("img",{src:URL.createObjectURL(this.state.GIDFront),className:"id-img",alt:""}))),l.a.createElement("div",{className:"ml-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block font-weight-bold"},"ID Back"),l.a.createElement("label",{className:"id-card d-flex flex-row align-items-center justify-content-center"},l.a.createElement("input",{type:"file",placeholder:"...",className:"form-control p-1 d-none",accept:"image/*",onChange:function(t){e.setState({GIDBack:t.target.files[0]})}}),l.a.createElement("div",{className:"d-flex flex-row align-items-center text-dark"},l.a.createElement(q.a,null),l.a.createElement("h5",{className:"ml-2 mb-0"},"Choose a file")),this.state.GIDBack&&l.a.createElement("img",{src:URL.createObjectURL(this.state.GIDBack),className:"id-img",alt:""})))),l.a.createElement("div",{className:"d-flex flex-row mt-5"},l.a.createElement("div",{className:"ml-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block font-weight-bold"},"Guarantor location"),l.a.createElement("div",{className:"map-card card"},l.a.createElement("iframe",{title:"document-map",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3988.7337109204586!2d36.891327514958746!3d-1.336003499025586!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x182f1273fbf5e9f3%3A0x3333f1e957f8404f!2sOnfon+Media+Ltd!5e0!3m2!1sen!2ske!4v1564652443634!5m2!1sen!2ske",frameborder:"0",allowfullscreen:!0,className:"h-100"})))),l.a.createElement("div",{className:" my-3 d-flex flex-row justify-content-between mt-5"},l.a.createElement(b.b,{to:"/clients",className:"btn btn-primary px-5  ml-3 btn-lg",onClick:function(){alert("Added successfully")}},"Finish"))))))}}]),t}(n.Component),X=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={tableData:{data:[]},tableError:!1,query:{},status:[{value:1,label:"Total Loans",number:2400,amount:"",color:"material-indigo"},{value:1,label:"Target",number:2400,amount:4e4,color:"material-blue"},{value:1,label:"Sales",number:2400,amount:4e4,color:"material-green"},{value:1,label:"Arrears",number:2400,amount:4e4,color:"material-red"}]},a.timeout=null,a.fetchClients=function(){a.setState({tableError:!1});var e=Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&");console.log(e),fetch("".concat(window.server,"/users?").concat(Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&"),"&user_type=3"),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e);var t=[];e.data.map(function(e){t.push({"User ID":e.user_id,"Full Name":e.full_names,email:e.email,gender:["","Male","Female"][e.gender_id],identification:e.identification,"Marital status":["","Single","Married"][e.marital_status_id],balance:e.balance,"Phone Number":e.msisdn,Branch:e.zone.zone_name,action:l.a.createElement(l.a.Fragment,null,l.a.createElement(b.b,{to:"branchManagerView/details/"+e.user_id+"/"+e.zone.branch.branch_code,className:"btn btn-sm btn-primary"},"View"))})}),e.data=t,a.setState({tableData:e})}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"p-3 "},l.a.createElement("div",{className:"d-flex flex-row align-items-center justify-content-between"},l.a.createElement("h2",{className:""},"Branch managers"),l.a.createElement(b.b,{to:"/branchManagersAdd",className:"option-card pr-3 d-flex flex-row btn align-items-center btn-primary btn-sm btn-round"},l.a.createElement(q.a,{size:18}),l.a.createElement("span",{className:"pl-1"},"Add a Branch manager"))),l.a.createElement(B,{branches:!0,getFilter:function(t){setTimeout(function(){e.setState({query:Object(h.a)({},e.state.query,t)})},0)}}),l.a.createElement("div",{className:"mt-4"},l.a.createElement(I,{data:this.state.tableData,fetch:function(t){e.setState({query:Object(h.a)({},e.state.query,t)})},fetchError:this.state.tableError})))}},{key:"componentDidUpdate",value:function(e,t){if(JSON.stringify(this.state.query)!==JSON.stringify(t.query)){var a=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.fetchClients()},100)}}}]),t}(n.Component),H=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={data:[{}]},a.componentDidMount=function(){a.fetch()},a.fetch=function(){var e=a.props.match.params.id;fetch("".concat(window.server,"/users?user_id=").concat(e),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e);var t=[];e.data.map(function(e){t.push({"User ID":e.user_id,"Full Name":e.full_names,email:e.email,gender:["","Male","Female"][e.gender_id],identification:e.identification,"Marital status":["","Single","Married"][e.marital_status_id],balance:e.balance,"Phone Number":e.msisdn,zone:e.zone.zone_name})}),e.data=t,a.setState({data:t})}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"p-3"},l.a.createElement("ul",{className:"list-group user-details"},Object.keys(this.state.data[0]).map(function(t){return l.a.createElement("li",{className:"list-group-item d-flex flex-row list-group-item-action text-dark"},l.a.createElement("div",{className:"user-detail-title font-weight-bold text-capitalize"},t),l.a.createElement("div",null,e.state.data[0][t]))})))}}]),t}(n.Component),K=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={tableData:{data:[]},tableError:!1,query:{}},a.timeout=null,a.fetchClients=function(){a.setState({tableError:!1});var e=Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&");console.log(e),fetch("".concat(window.server,"/loans?").concat(Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&"),"&user_id=").concat(a.props.match.params.id),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e);var t=[],n=["",l.a.createElement("button",{className:"btn btn-outline-primary btn-sm"},"Loan Created"),l.a.createElement("button",{className:"btn btn-primary btn-sm"},"Loan Active"),l.a.createElement("button",{className:"btn btn-success btn-sm"},"Loan Repaid"),l.a.createElement("button",{className:"btn btn-danger btn-sm"},"Loan Defaulted")];e.data.map(function(e){t.push({"Loan ID":e.loan_id,"Client Name":e.client[0].full_names,Amount:"kes "+e.loan_amount.toLocaleString(),"Amount disbursed":"kes "+e.loan_amount_disbursed.toLocaleString(),"Amount paid":"kes "+e.loan_amount_paid.toLocaleString(),"Loan Installments":e.loan_installments.toLocaleString(),"Start Date":e.loan_start_date,"End Date":e.loan_end_date,"Last payment date":e.last_repayment_date,"Loan Status":n[e.loan_status]})}),e.data=t,a.setState({tableData:e})}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"p-3 "},l.a.createElement(B,{filter:[{name:"All clients",value:0},{name:"Dormat clients",value:20},{name:"New clients",value:20},{name:"Served clients",value:20}],getFilter:function(t){setTimeout(function(){e.setState({query:Object(h.a)({},e.state.query,t)})},0)}}),l.a.createElement("div",{className:"mt-4"},l.a.createElement(I,{data:this.state.tableData,fetch:function(t){e.setState({query:Object(h.a)({},e.state.query,t)})},fetchError:this.state.tableError})))}},{key:"componentDidUpdate",value:function(e,t){if(JSON.stringify(this.state.query)!==JSON.stringify(t.query)){var a=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.fetchClients()},100)}}}]),t}(n.Component),$=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={data:[{}],tableData:[]},a.fetch=function(){a.setState({tableError:!1});var e=Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&"),t=a.props.match.params.id;console.log(e),fetch("".concat(window.server,"/transactions?").concat(Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&"),"&loan_id=").concat(t),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e);var t=[];e.data.map(function(e){t.push({Time:L(e.created_at).format("Do MMMM YYYY, h:mm:ss a"),transaction_id:e.transaction_id,description:e.description,"Cash Out":e.dr,"Cash in":e.cr,"New Balance":e.new_bal})}),e.data=t,a.setState({tableData:e})}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"p-3"},l.a.createElement("div",null,l.a.createElement(B,{getFilter:function(t){setTimeout(function(){e.setState({query:Object(h.a)({},e.state.query,t)})},0)},filter:window.accounts.map(function(e){return{label:e.description,name:"account_id",value:e.account_type_id}})}),l.a.createElement("div",{className:"mt-4"},l.a.createElement(I,{data:this.state.tableData,fetch:function(t){e.setState({query:Object(h.a)({},e.state.query,t)})},fetchError:this.state.tableError})))))}},{key:"componentDidUpdate",value:function(e,t){if(JSON.stringify(this.state.query)!==JSON.stringify(t.query)){var a=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.fetch()},100)}}}]),t}(n.Component),ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={active:""},a.componentDidMount=function(){a.setState({active:a.props.history.location.pathname})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"w-100"},l.a.createElement("div",{className:" border-bottom"},l.a.createElement("div",{className:"tab-links d-flex flex-row mr-5"},this.props.tabs.map(function(t){return l.a.createElement(b.b,{to:t.link,className:"tab-link mr-3 p-3 position-relative font-weight-bold text-uppercase "+(t.link===e.state.active?"active":"")},l.a.createElement("span",null,t.label))}))),l.a.createElement("div",{className:"tabs"},l.a.createElement("div",{className:"tab"},this.props.children)))}},{key:"componentWillReceiveProps",value:function(e){e.history&&this.setState({active:this.props.history.location.pathname})}}]),t}(n.Component),te=Object(f.f)(function(e){return l.a.createElement(ee,e)}),ae=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={currentRoute:""},a.componentDidMount=function(){a.fetch()},a.fetch=function(){var e=a.props.match.params.id;fetch("".concat(window.server,"/users?user_id=").concat(e),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e.data[0]),a.setState(Object(h.a)({},e.data[0]))}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"text-mute pt-3 pl-3"},l.a.createElement("small",{className:"text-mute"},"Clients > View")),l.a.createElement("div",{className:"profile p-3 d-flex flex-row align-items-center justify-content-between"},l.a.createElement("div",{className:"d-flex flex-row align-items-center"},l.a.createElement("div",{className:"border avatar-lg bg-light d-flex flex-row align-items-center justify-content-center"},l.a.createElement("span",{className:"initials"},this.state.full_names?this.state.full_names[0]:"")),l.a.createElement("div",{className:"ml-4"},l.a.createElement("h4",null,this.state.full_names),l.a.createElement("div",null,"+ ",this.state.msisdn),l.a.createElement("div",{className:"ml-2 mt-1"},l.a.createElement("span",{className:"badge badge-secondary px-1"},"Client")))),l.a.createElement("div",{className:"d-flex flex-row justify-content-center"},l.a.createElement(b.b,{to:"/clientEdit/"+this.props.match.params.id,className:"option-card pr-3 d-flex flex-row btn align-items-center btn-primary  btn-round mr-3"},l.a.createElement(q.a,{size:18})," ",l.a.createElement("span",{className:"pl-1"},"Edit profile")),l.a.createElement(b.b,{to:"/loanAdd/"+this.props.match.params.id,className:"option-card pr-3 d-flex flex-row btn align-items-center btn-primary  btn-round"},l.a.createElement(q.a,{size:18})," ",l.a.createElement("span",{className:"pl-1"},"Add a Loan")))),l.a.createElement(te,{tabs:[{label:"DETAILS",link:"/clientView/details/"+this.props.match.params.id,component:H},{label:"LOANS",link:"/clientView/loans/"+this.props.match.params.id,component:K},{label:"TRANSCATIONS",link:"/clientView/transactions/"+this.props.match.params.id,component:$}]},l.a.createElement(f.a,{path:"/clientView/details/:id",exact:!0,component:H}),l.a.createElement(f.a,{path:"/clientView/loans/:id",exact:!0,component:K}),l.a.createElement(f.a,{path:"/clientView/transactions/:id",exact:!0,component:$})))}}]),t}(n.Component),ne=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={ranges:{startDate:new Date,endDate:new Date,key:"selection"},dateVisible:!1,currentDate:new Date,collaterals:[1]},a.submit=function(e){console.log(JSON.stringify(e)),fetch("".concat(window.server,"/users"),{headers:{Authorization:localStorage.token,"Content-Type":"application/json"},method:"post",data:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){console.log(e),400===e.code?alert(e.message):alert("successfully added")}).catch(function(e){alert("Error saving the data"),console.log(e)})},a.updateFilter=function(){var e={};0!==a.state.zone&&(e={zone_id:a.state.zone},a.props.getFilter(e))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"p-3"},l.a.createElement("div",{className:"container"},l.a.createElement("h3",{className:"font-weight-bold mb-0"},"Add a Loan"),l.a.createElement("small",{className:"text-muted ml-2"},"Clients > View client > Add a loan"))),l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement("h3",null,"1. Create loan")),l.a.createElement("div",{className:"pb-3 pt-5 bg-light border-top d-flex flex-fill"},l.a.createElement("div",{className:"container "},l.a.createElement("div",{className:"d-flex flex-row flex-wrap"},l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Loan amout"),l.a.createElement("input",{type:"number",placeholder:"...",className:"form-control text-input"})),l.a.createElement("div",{className:"d-block position-relative"},l.a.createElement("div",{className:"mx-2 flex-column"},l.a.createElement("span",{className:"mb-2"},"Start date "),l.a.createElement("div",{className:"form-control mt-2  d-flex flex-row align-items-center noselect",onClick:function(){e.setState({dateVisible:!0})}},l.a.createElement("span",null,l.a.createElement("b",null,"From"),z()(this.state.currentDate).format(" Do MMMM YYYY ")))),l.a.createElement("div",{className:"card date-card "+(this.state.dateVisible?"":"d-none")},l.a.createElement(_.Calendar,{date:this.state.currentDate,onChange:function(t){return e.setState({currentDate:t})}}),l.a.createElement("div",{className:"p-3 text-center d-flex flex-row justify-content-between"},l.a.createElement("button",{onClick:function(){e.setState({dateVisible:!1})},className:"btn btn-outline-danger btn-sm d-flex flex-row align-items-center align-self-center pr-4"},l.a.createElement(D.a,{size:18})," ",l.a.createElement("span",{className:"ml-2"},"Cancel")),l.a.createElement("button",{onClick:function(){e.setState({dateVisible:!1})},className:"btn btn-primary btn-sm d-flex flex-row align-items-center align-self-center pr-4"},l.a.createElement(J.a,{size:18})," ",l.a.createElement("span",{className:"ml-2"},"Done"))))),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Number of Days"),l.a.createElement("input",{type:"number",placeholder:"...",className:"form-control text-input"})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Choose a loan officer"),l.a.createElement("input",{type:"number",placeholder:"...",className:"form-control text-input"}))),l.a.createElement("div",{className:" my-3 d-flex flex-row justify-content-between mt-5"},l.a.createElement("button",{className:"btn btn-primary px-5  ml-3"},"Submit"))))),l.a.createElement("div",{className:"mt-5"},l.a.createElement("div",{className:"container"},l.a.createElement("h3",null,"2. Add loan Collateral")),l.a.createElement("div",{className:"pb-3 pt-5 bg-light border-top d-flex flex-fill"},l.a.createElement("div",{className:"container"},this.state.collaterals.map(function(e,t){return l.a.createElement("div",{className:"collateral-card p-3 mb-3"},l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Item name"),l.a.createElement("input",{placeholder:"...",className:"form-control text-input",value:""})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Quantity"),l.a.createElement("input",{type:"number",placeholder:"...",className:"form-control text-input",value:""})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Serial Number"),l.a.createElement("input",{placeholder:"...",className:"form-control text-input",value:""})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Total value"),l.a.createElement("input",{type:"number",placeholder:"...",className:"form-control text-input",value:""})))}),l.a.createElement("div",{className:"text-center mt-5"},l.a.createElement("button",{className:"btn btn-outline-primary px-5  ml-5",onClick:function(){var t=e.state.collaterals;t.push(1),e.setState({collaterals:t})}},"Add collateral Item")),l.a.createElement("div",{className:" my-3 d-flex flex-row justify-content-between mt-5"},l.a.createElement("button",{className:"btn btn-primary px-5  ml-3"},"Submit"))))),l.a.createElement("div",{onClick:function(){e.setState({dateVisible:!1})},className:"date-bg-cover cursor-pointer "+(this.state.dateVisible?"":"d-none")}))}}]),t}(n.Component),le=a(98),ce=a.n(le),re=a(99),se=a.n(re),ie=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={activeSlide:3,files:[]},a.addClient=function(e){console.log(JSON.stringify(e)),fetch("".concat(window.server,"/users"),{method:"POST",headers:{Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6ImFjY2VzcyJ9.eyJ1c2VySWQiOjEsImlhdCI6MTU2Mzk1MzY0OSwiZXhwIjoxNTY1NjgxNjQ5LCJhdWQiOiJodHRwczovL25lZW1heWFtdW5ndS5jb20iLCJpc3MiOiJuZWVtYSBhcGkiLCJzdWIiOiJuZWVtYXlhbXVuZ3UiLCJqdGkiOiJmY2IxOTczMS04NTY5LTQwMjktYmM2MC0zMTQ2YTVlOTA4NTkifQ.n5CBbZXo2IdBjUcvBMSOq4wk21mpn6rej_JPF_Qz3Eg","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){console.log(e),400===e.code?alert(e.message):(alert("successfully added"),a.setState({user_id:"U0WO33PGVLSIB",activeSlide:1}))}).catch(function(e){alert("Error saving the data"),console.log(e)})},a.uploadFiles=function(){var e=new FormData;if(a.state.files.length<0)return alert("Please add atleast one file."),!1;a.state.files.map(function(t){e.append("files",t)}),e.append("user_id",a.state.user_id),fetch("".concat(window.server,"/users"),{method:"POST",headers:{Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6ImFjY2VzcyJ9.eyJ1c2VySWQiOjEsImlhdCI6MTU2Mzk1MzY0OSwiZXhwIjoxNTY1NjgxNjQ5LCJhdWQiOiJodHRwczovL25lZW1heWFtdW5ndS5jb20iLCJpc3MiOiJuZWVtYSBhcGkiLCJzdWIiOiJuZWVtYXlhbXVuZ3UiLCJqdGkiOiJmY2IxOTczMS04NTY5LTQwMjktYmM2MC0zMTQ2YTVlOTA4NTkifQ.n5CBbZXo2IdBjUcvBMSOq4wk21mpn6rej_JPF_Qz3Eg"},body:e}).then(function(e){return e.json()}).then(function(e){console.log(e),400===e.code?alert(e.message):(alert("successfully added"),a.setState({activeSlide:2}))}).catch(function(e){alert("Error saving the data"),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"p-3"},l.a.createElement("div",{className:"container"},l.a.createElement("h3",{className:"font-weight-bold mb-0"},"Add a Client"),l.a.createElement("small",{className:"text-muted ml-2"},"Clients > Add a Client"))),0===this.state.activeSlide&&l.a.createElement("div",{className:""},l.a.createElement("div",{className:"container"},l.a.createElement("h3",null,"1. Client details")),l.a.createElement(R,{inputs:[{label:"Full name",name:"full_names",value:"Boniface Mbaria"},{label:"Phone number",name:"msisdn",value:"254715229228"},{label:"Email address",name:"email",value:"bndibx@gmail.com",type:"email"},{label:"Gender",name:"gender_id",value:"1",type:"select",options:[{name:"Male",value:1},{name:"Female",value:"2"}]},{label:"Password",name:"password",value:"qwerty",type:"password"},{type:"break"},{label:"Identification Type",name:"identification_type",value:"1",type:"select",options:[{name:"Identity Card",value:1},{name:"Passport Number",value:2}]},{label:"ID number",name:"identification",value:"29495518"},{label:"Marital status",name:"marital_status_id",value:"1",type:"select",options:[{name:"Single",value:1},{name:"Married",value:2}]},{label:"Zone",name:"zone_id",value:"1",type:"select",options:Object(s.a)(window.zones.map(function(e,t){return{name:e.zone_name,value:e.id}}))}],submit:function(t){return e.setState({activeSlide:1})}})),1===this.state.activeSlide&&l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement("h3",null,"2. Documents")),l.a.createElement("div",{className:"bg-light py-5"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"d-flex flex-row flex-wrap"},l.a.createElement("div",null,l.a.createElement("h5",{className:"ml-1 mb-2 d-block font-weight-bold"},"ID front"),l.a.createElement("label",{className:"id-card d-flex flex-row align-items-center justify-content-center"},l.a.createElement("input",{type:"file",placeholder:"...",className:"form-control p-1 d-none",value:"",accept:"image/*",onChange:function(t){e.setState({IDfront:t.target.files[0]})}}),l.a.createElement("div",{className:"d-flex flex-row align-items-center text-dark"},l.a.createElement(q.a,null),l.a.createElement("h5",{className:"ml-2 mb-0"},"Chooose a file")),this.state.IDfront&&l.a.createElement("img",{src:URL.createObjectURL(this.state.IDfront),className:"id-img",alt:""}))),l.a.createElement("div",{className:"ml-5"},l.a.createElement("h5",{className:"ml-1 mb-2 d-block font-weight-bold"},"ID Back"),l.a.createElement("label",{className:"id-card d-flex flex-row align-items-center justify-content-center"},l.a.createElement("input",{type:"file",placeholder:"...",className:"form-control p-1 d-none",value:"",accept:"image/*",onChange:function(t){e.setState({IDBack:t.target.files[0]})}}),l.a.createElement("div",{className:"d-flex flex-row align-items-center text-dark"},l.a.createElement(q.a,null),l.a.createElement("h5",{className:"ml-2 mb-0"},"Chooose a file")),this.state.IDBack&&l.a.createElement("img",{src:URL.createObjectURL(this.state.IDBack),className:"id-img",alt:""})))),l.a.createElement("div",{className:" my-3 d-flex flex-row justify-content-between mt-5"},l.a.createElement("button",{className:"btn btn-primary px-5  ml-3",onClick:function(){return e.setState({activeSlide:2})}},"Submit"),l.a.createElement("button",{className:"btn btn-outline-primary px-5  ml-5"},"Reset form"))))),2===this.state.activeSlide&&l.a.createElement("div",null,l.a.createElement("div",{className:"container d-flex flex-row justify-content-between align-items-center mb-3"},l.a.createElement("h3",null,"3. Add a Business"),l.a.createElement("button",{className:"btn btn-primary px-5  ml-3",onClick:function(){return e.setState({activeSlide:3})}},"Skip")),l.a.createElement("div",{className:"py-3 bg-light border-top d-flex flex-fill"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Business Name"),l.a.createElement("input",{placeholder:"...",className:"form-control text-input",value:"Business"})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Business Registration Number"),l.a.createElement("input",{placeholder:"...",className:"form-control text-input",value:"112345678"})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Business Description"),l.a.createElement("input",{type:"textarea",placeholder:"...",className:"form-control text-input",value:"We sell men's  shoes"})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Physical address"),l.a.createElement("input",{placeholder:"...",className:"form-control text-input",value:"Nairobu CBD"})),l.a.createElement("div",{className:"ml-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Store Front Photo"),l.a.createElement("label",{className:"id-card d-flex flex-row align-items-center justify-content-center"},l.a.createElement("input",{type:"file",placeholder:"...",className:"form-control p-1 d-none",value:"",accept:"image/*",onChange:function(t){e.setState({StoreFront:t.target.files[0]})}}),l.a.createElement("div",{className:"d-flex flex-row align-items-center text-dark"},l.a.createElement(q.a,null),l.a.createElement("h5",{className:"ml-2 mb-0"},"Chooose a file")),this.state.StoreFront&&l.a.createElement("img",{src:URL.createObjectURL(this.state.StoreFront),className:"id-img",alt:""}))),l.a.createElement("div",{className:" my-3 d-flex flex-row justify-content-between mt-5"},l.a.createElement("button",{className:"btn btn-primary px-5  ml-3"},"Submit"))))),3===this.state.activeSlide&&l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement("h3",null,"4. Create a guarantor")),l.a.createElement("div",{className:"py-3 bg-light border-top d-flex flex-fill"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Guarantor Name"),l.a.createElement("input",{placeholder:"...",className:"form-control text-input",value:"william"})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Identification Type"),l.a.createElement("select",{className:"form-control"},l.a.createElement("option",{value:"1"},"Identity Card"),l.a.createElement("option",{value:"2"},"Passport Number"))),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Identification"),l.a.createElement("input",{type:"textarea",placeholder:"...",className:"form-control text-input",value:"33331993"})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Description"),l.a.createElement("textarea",{placeholder:"...",className:"form-control text-input",value:"..."})),l.a.createElement("hr",{className:"my-4 mx-3"}),l.a.createElement("div",{className:"d-flex flex-row"},l.a.createElement("div",{className:"ml-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block font-weight-bold"},"ID Front"),l.a.createElement("label",{className:"id-card d-flex flex-row align-items-center justify-content-center"},l.a.createElement("input",{type:"file",placeholder:"...",className:"form-control p-1 d-none",value:"",accept:"image/*",onChange:function(t){e.setState({GIDFront:t.target.files[0]})}}),l.a.createElement("div",{className:"d-flex flex-row align-items-center text-dark"},l.a.createElement(q.a,null),l.a.createElement("h5",{className:"ml-2 mb-0"},"Choose a file")),this.state.GIDFront&&l.a.createElement("img",{src:URL.createObjectURL(this.state.GIDFront),className:"id-img",alt:""}))),l.a.createElement("div",{className:"ml-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block font-weight-bold"},"ID Back"),l.a.createElement("label",{className:"id-card d-flex flex-row align-items-center justify-content-center"},l.a.createElement("input",{type:"file",placeholder:"...",className:"form-control p-1 d-none",value:"",accept:"image/*",onChange:function(t){e.setState({GIDBack:t.target.files[0]})}}),l.a.createElement("div",{className:"d-flex flex-row align-items-center text-dark"},l.a.createElement(q.a,null),l.a.createElement("h5",{className:"ml-2 mb-0"},"Choose a file")),this.state.GIDBack&&l.a.createElement("img",{src:URL.createObjectURL(this.state.GIDBack),className:"id-img",alt:""})))),l.a.createElement("div",{className:"d-flex flex-row mt-5"},l.a.createElement("div",{className:"ml-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block font-weight-bold"},"Guarantor location"),l.a.createElement("div",{className:"map-card card"},l.a.createElement("iframe",{title:"document-map",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3988.7337109204586!2d36.891327514958746!3d-1.336003499025586!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x182f1273fbf5e9f3%3A0x3333f1e957f8404f!2sOnfon+Media+Ltd!5e0!3m2!1sen!2ske!4v1564652443634!5m2!1sen!2ske",frameborder:"0",allowfullscreen:!0,className:"h-100"})))),l.a.createElement("div",{className:" my-3 d-flex flex-row justify-content-between mt-5"},l.a.createElement(b.b,{to:"/clients",className:"btn btn-primary px-5  ml-3 btn-lg",onClick:function(){alert("Added successfully")}},"Finish"))))))}}]),t}(n.Component),oe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={data:[{}],tableData:[]},a.componentDidMount=function(){a.fetch()},a.fetch=function(){var e=a.props.match.params.id;fetch("".concat(window.server,"/loans?loan_id=").concat(e),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e);var t=[],n=["",l.a.createElement("button",{className:"btn btn-outline-primary btn-sm"},"Loan Created"),l.a.createElement("button",{className:"btn btn-primary btn-sm"},"Loan Active"),l.a.createElement("button",{className:"btn btn-success btn-sm"},"Loan Repaid"),l.a.createElement("button",{className:"btn btn-danger btn-sm"},"Loan Defaulted")];e.data.map(function(e){t.push({"Loan ID":e.loan_id,"Start Date":e.loan_start_date,"End Date":e.loan_end_date,Description:"","Client Name":e.client.full_names,"Amount disbursed":"kes "+e.loan_amount_disbursed.toLocaleString(),"Loan Amount":"kes "+e.loan_amount.toLocaleString(),Balance:"kes "+e.loan_amount_paid.toLocaleString(),"Loan Installments":e.loan_installments.toLocaleString(),"Last payment date":e.last_repayment_date,"Loan Status":n[e.loan_status]})}),a.setState({data:t}),console.log(t),a.setState({response:e})}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"p-3"},l.a.createElement("div",null,l.a.createElement("h3",{className:"font-weight-bold mb-5"},"Loan Details"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("ul",{className:"list-group user-details list-group-flush"},Object.keys(this.state.data[0]).map(function(t){return l.a.createElement("li",{className:"list-group-item d-flex flex-row list-group-item-action text-dark"},l.a.createElement("div",{className:"user-detail-title font-weight-bold text-capitalize"},t),l.a.createElement("div",null,e.state.data[0][t]))}))),l.a.createElement("div",{className:"ml-5 col-md-4"},this.state.response&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header d-flex flex-row align-items-center justify-content-between"},l.a.createElement("h5",{className:"font-weight-bold m-0"}," Client"),l.a.createElement(b.b,{to:"/clientView/details/UAE9NNSUXW3",className:"btn btn-sm btn-primary"},"View")),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"d-flex flex-row align-items-center"},l.a.createElement("div",{className:"border avatar-lg bg-light d-flex flex-row align-items-center justify-content-center"},l.a.createElement("span",{className:"initials"},this.state.response.data[0].client.full_names[0])),l.a.createElement("div",{className:"ml-4"},l.a.createElement("h4",null,this.state.response.data[0].client.full_names),l.a.createElement("div",null,"+ ",this.state.response.data[0].client.msisdn),l.a.createElement("div",{className:"ml-2 mt-1"},l.a.createElement("span",{className:"badge badge-secondary px-1"},"Client")))))),l.a.createElement("div",{className:"card mt-5"},l.a.createElement("div",{className:"card-header d-flex flex-row align-items-center justify-content-between"},l.a.createElement("h5",{className:"font-weight-bold m-0"},"Credit officer"),l.a.createElement(b.b,{to:"/officerView/details/UAE9NNSUXW3",className:"btn btn-sm btn-primary"},"View")),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"d-flex flex-row align-items-center"},l.a.createElement("div",{className:"border avatar-lg bg-light d-flex flex-row align-items-center justify-content-center"},l.a.createElement("span",{className:"initials"},this.state.response.data[0].officer.full_names[0])),l.a.createElement("div",{className:"ml-4"},l.a.createElement("h4",null,this.state.response.data[0].officer.full_names),l.a.createElement("div",null,"+ ",this.state.response.data[0].officer.msisdn),l.a.createElement("div",{className:"ml-2 mt-1"},l.a.createElement("span",{className:"badge badge-secondary px-1"},"Credit officer"))))))))))))}}]),t}(n.Component),me=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={data:[{}],tableData:[]},a.fetch=function(){a.setState({tableError:!1});var e=Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&"),t=a.props.match.params.id;console.log(e),fetch("".concat(window.server,"/transactions?").concat(Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&"),"&loan_id=").concat(t),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e);var t=[];e.data.map(function(e){t.push({Time:L(e.created_at).format("Do MMMM YYYY, h:mm:ss a"),transaction_id:e.transaction_id,description:e.description,"Cash Out":e.dr,"Cash in":e.cr,"New Balance":e.new_bal})}),e.data=t,a.setState({tableData:e})}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"p-3"},l.a.createElement("div",null,l.a.createElement(B,{getFilter:function(t){setTimeout(function(){e.setState({query:Object(h.a)({},e.state.query,t)})},0)},filter:window.accounts.map(function(e){return{label:e.description,name:"account_id",value:e.account_type_id}})}),l.a.createElement("div",{className:"mt-4"},l.a.createElement(I,{data:this.state.tableData,fetch:function(t){e.setState({query:Object(h.a)({},e.state.query,t)})},fetchError:this.state.tableError})))))}},{key:"componentDidUpdate",value:function(e,t){if(JSON.stringify(this.state.query)!==JSON.stringify(t.query)){var a=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.fetch()},100)}}}]),t}(n.Component),de=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={data:[{}],tableData:[]},a.fetch=function(){a.setState({tableError:!1});Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&");var e=a.props.match.params.id;fetch("".concat(window.server,"/collaterals?").concat(Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&"),"&loan_id=").concat(e),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){a.setState({tableData:e})}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"p-3"},l.a.createElement("div",null,l.a.createElement(B,{getFilter:function(t){setTimeout(function(){e.setState({query:Object(h.a)({},e.state.query,t)})},0)},filter:window.accounts.map(function(e){return{label:e.description,name:"account_id",value:e.account_type_id}})}),l.a.createElement("div",{className:"mt-4"},l.a.createElement(I,{data:this.state.tableData,fetch:function(t){e.setState({query:Object(h.a)({},e.state.query,t)})},fetchError:this.state.tableError})))))}},{key:"componentDidUpdate",value:function(e,t){if(JSON.stringify(this.state.query)!==JSON.stringify(t.query)){var a=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.fetch()},100)}}}]),t}(n.Component),ue=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={data:[{}],tableData:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"w-100"},l.a.createElement(te,{tabs:[{label:"details",link:"/loanView/details/"+this.props.match.params.id},{label:"transactions",link:"/loanView/transactions/"+this.props.match.params.id},{label:"collateral",link:"/loanView/collateral/"+this.props.match.params.id}]},l.a.createElement(f.a,{path:"/loanView/details/:id",exact:!0,component:oe}),l.a.createElement(f.a,{path:"/loanView/transactions/:id",exact:!0,component:me}),l.a.createElement(f.a,{path:"/loanView/collateral/:id",exact:!0,component:de})))}}]),t}(n.Component),fe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={activeSlide:0,files:[]},a.addClient=function(e){console.log(JSON.stringify(e)),fetch("".concat(window.server,"/users"),{method:"POST",headers:{Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6ImFjY2VzcyJ9.eyJ1c2VySWQiOjEsImlhdCI6MTU2Mzk1MzY0OSwiZXhwIjoxNTY1NjgxNjQ5LCJhdWQiOiJodHRwczovL25lZW1heWFtdW5ndS5jb20iLCJpc3MiOiJuZWVtYSBhcGkiLCJzdWIiOiJuZWVtYXlhbXVuZ3UiLCJqdGkiOiJmY2IxOTczMS04NTY5LTQwMjktYmM2MC0zMTQ2YTVlOTA4NTkifQ.n5CBbZXo2IdBjUcvBMSOq4wk21mpn6rej_JPF_Qz3Eg","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){console.log(e),400===e.code?alert(e.message):(alert("successfully added"),a.setState({user_id:"U0WO33PGVLSIB",activeSlide:1}))}).catch(function(e){alert("Error saving the data"),console.log(e)})},a.uploadFiles=function(){var e=new FormData;if(a.state.files.length<0)return alert("Please add atleast one file."),!1;a.state.files.map(function(t){e.append("files",t)}),e.append("user_id",a.state.user_id),fetch("".concat(window.server,"/users"),{method:"POST",headers:{Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6ImFjY2VzcyJ9.eyJ1c2VySWQiOjEsImlhdCI6MTU2Mzk1MzY0OSwiZXhwIjoxNTY1NjgxNjQ5LCJhdWQiOiJodHRwczovL25lZW1heWFtdW5ndS5jb20iLCJpc3MiOiJuZWVtYSBhcGkiLCJzdWIiOiJuZWVtYXlhbXVuZ3UiLCJqdGkiOiJmY2IxOTczMS04NTY5LTQwMjktYmM2MC0zMTQ2YTVlOTA4NTkifQ.n5CBbZXo2IdBjUcvBMSOq4wk21mpn6rej_JPF_Qz3Eg"},body:e}).then(function(e){return e.json()}).then(function(e){console.log(e),400===e.code?alert(e.message):(alert("successfully added"),a.setState({activeSlide:2}))}).catch(function(e){alert("Error saving the data"),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"p-3"},l.a.createElement("div",{className:"container"},l.a.createElement("h3",{className:"font-weight-bold mb-0"},"Add a Branch Manager"),l.a.createElement("small",{className:"text-muted ml-2"},"Branch Managers > Add a Branch Manager"))),0===this.state.activeSlide&&l.a.createElement("div",{className:""},l.a.createElement("div",{className:"pb-3 pt-5 bg-light border-top d-flex flex-fill"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Full name"),l.a.createElement("input",{placeholder:"...",className:"form-control text-input",value:"Boniface Mbaria"})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Phone number"),l.a.createElement("input",{placeholder:"...",className:"form-control text-input",value:"254715229228"})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Email address"),l.a.createElement("input",{type:"email",placeholder:"...",className:"form-control text-input",value:"bndibx@gmail.com"})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Gender"),l.a.createElement("select",{className:"form-control"},l.a.createElement("option",{value:"1"},"Male"),l.a.createElement("option",{value:"2"},"Female"))),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Password"),l.a.createElement("input",{type:"password",placeholder:"...",className:"form-control text-input",value:"qwerty"})),l.a.createElement("hr",{className:"my-4 mx-3"}),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Identification Type"),l.a.createElement("select",{className:"form-control"},l.a.createElement("option",{value:"1"},"Identity Card"),l.a.createElement("option",{value:"2"},"Passport Number"))),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"ID number"),l.a.createElement("input",{placeholder:"...",className:"form-control text-input",value:"29495518"})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Marital status"),l.a.createElement("select",{className:"form-control"},l.a.createElement("option",{value:"1"},"Single"),l.a.createElement("option",{value:"2"},"Married"))),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Branch"),l.a.createElement("select",{className:"form-control"},l.a.createElement("option",{value:"0"},"ALL"),l.a.createElement("option",{value:"1"},"ONFON ZONE"),l.a.createElement("option",{value:"2"},"TESTNAME"),l.a.createElement("option",{value:"3"},"TESTNAME"),l.a.createElement("option",{value:"4"},"TESTNAME"))),l.a.createElement("div",{className:" my-3 d-flex flex-row justify-content-between mt-5"},l.a.createElement(b.b,{to:"/branchManagers",className:"btn btn-primary px-5  ml-3",onClick:function(){alert("Added successfully")}},"Submit"))))))}}]),t}(n.Component),be=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={tableData:{data:[]},tableError:!1,query:{}},a.timeout=null,a.fetchClients=function(){a.setState({tableError:!1});var e=Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&");console.log(e),fetch("".concat(window.server,"/loans?").concat(Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&"),"&user_id=").concat(a.props.match.params.id),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e);var t=[],n=["",l.a.createElement("button",{className:"btn btn-outline-primary btn-sm"},"Loan Created"),l.a.createElement("button",{className:"btn btn-primary btn-sm"},"Loan Active"),l.a.createElement("button",{className:"btn btn-success btn-sm"},"Loan Repaid"),l.a.createElement("button",{className:"btn btn-danger btn-sm"},"Loan Defaulted")];e.data.map(function(e){t.push({"Loan ID":e.loan_id,"Client Name":e.client[0].full_names,Amount:"kes "+e.loan_amount.toLocaleString(),"Amount disbursed":"kes "+e.loan_amount_disbursed.toLocaleString(),"Amount paid":"kes "+e.loan_amount_paid.toLocaleString(),"Loan Installments":e.loan_installments.toLocaleString(),"Start Date":e.loan_start_date,"End Date":e.loan_end_date,"Last payment date":e.last_repayment_date,"Loan Status":n[e.loan_status]})}),e.data=t,a.setState({tableData:e})}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"p-3 "},l.a.createElement(B,{filter:[{name:"All clients",value:0},{name:"Dormat clients",value:20},{name:"New clients",value:20},{name:"Served clients",value:20}],getFilter:function(t){setTimeout(function(){e.setState({query:Object(h.a)({},e.state.query,t)})},0)}}),l.a.createElement("div",{className:"mt-4"},l.a.createElement(I,{data:this.state.tableData,fetch:function(t){e.setState({query:Object(h.a)({},e.state.query,t)})},fetchError:this.state.tableError})))}},{key:"componentDidUpdate",value:function(e,t){if(JSON.stringify(this.state.query)!==JSON.stringify(t.query)){var a=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.fetchClients()},100)}}}]),t}(n.Component),he=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={tableData:{data:[]},tableError:!1,query:{}},a.timeout=null,a.fetchClients=function(){a.setState({tableError:!1});Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&");console.log("".concat(window.server,"/users?").concat(Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&"),"&user_type=2&branch_code=")+a.props.match.params.branch),fetch("".concat(window.server,"/users?").concat(Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&"),"&user_type=2&branch_code=")+a.props.match.params.branch,{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e);var t=[];e.data.map(function(e){t.push({"User ID":e.user_id,"Agent ID":e.agent_id,"Full Name":e.full_names,email:e.email,gender:["","Male","Female"][e.gender_id],identification:e.identification,"Marital status":["","Single","Married"][e.marital_status_id],balance:e.balance,"Phone Number":e.msisdn,zone:e.zone?e.zone.zone_name:"",action:l.a.createElement(l.a.Fragment,null,l.a.createElement(b.b,{to:"/officerView/details/"+e.user_id,className:"btn btn-sm btn-primary"},"View"))})}),e.data=t,a.setState({tableData:e})}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"p-3 "},l.a.createElement("div",{className:"mt-4"},l.a.createElement(I,{data:this.state.tableData,fetch:function(t){e.setState({query:Object(h.a)({},e.state.query,t)})},fetchError:this.state.tableError})))}},{key:"componentDidUpdate",value:function(e,t){if(JSON.stringify(this.state.query)!==JSON.stringify(t.query)){var a=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.fetchClients()},100)}}}]),t}(n.Component),pe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={data:[{}]},a.componentDidMount=function(){a.fetch()},a.fetch=function(){var e=a.props.match.params.id;fetch("".concat(window.server,"/users?user_id=").concat(e),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e);var t=[];e.data.map(function(e){t.push({"User ID":e.user_id,"Full Name":e.full_names,email:e.email,gender:["","Male","Female"][e.gender_id],identification:e.identification,"Marital status":["","Single","Married"][e.marital_status_id],balance:e.balance,"Phone Number":e.msisdn,zone:e.zone.zone_name})}),e.data=t,a.setState({data:t})}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"p-3"},l.a.createElement("ul",{className:"list-group user-details"},Object.keys(this.state.data[0]).map(function(t){return l.a.createElement("li",{className:"list-group-item d-flex flex-row list-group-item-action text-dark"},l.a.createElement("div",{className:"user-detail-title font-weight-bold text-capitalize"},t),l.a.createElement("div",null,e.state.data[0][t]))})))}}]),t}(n.Component),Ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={currentRoute:"",status:[{value:1,label:"Target",number:2400,amount:4e4,color:"material-blue"},{value:1,label:"Sales",number:2400,amount:4e4,color:"material-green"},{value:1,label:"Arrears",number:2400,amount:4e4,color:"material-red"}]},a.componentDidMount=function(){a.fetch()},a.fetch=function(){var e=a.props.match.params.id;fetch("".concat(window.server,"/users?user_id=").concat(e),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e.data[0]),a.setState(Object(h.a)({},e.data[0]))}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"text-mute pt-3 pl-3"},l.a.createElement("small",{className:"text-mute"},"Clients > View")),l.a.createElement("div",{className:"profile p-3 d-flex flex-row align-items-center row "},l.a.createElement("div",{className:"d-flex flex-row align-items-center col-md-3"},l.a.createElement("div",{className:"border avatar-lg bg-light d-flex flex-row align-items-center justify-content-center"},l.a.createElement("span",{className:"initials"},this.state.full_names?this.state.full_names[0]:"")),l.a.createElement("div",{className:"ml-4"},l.a.createElement("h4",null,this.state.full_names),l.a.createElement("div",null,"+ ",this.state.msisdn),l.a.createElement("div",{className:"ml-2 mt-1"},l.a.createElement("span",{className:"badge badge-secondary px-1"},"Client")))),this.state.status.map(function(e){return l.a.createElement(b.b,{to:"/loanStatus/"+e.value,className:"col-md-3 mb-3 icon btn"},l.a.createElement("div",{className:"card client-status text-white "+e.color},l.a.createElement("div",{className:"card-header trg-header d-flex flex-row align-items-center justify-content-between"},l.a.createElement(V.a,{className:""}),l.a.createElement("span",{className:"title font-weight-bold"},e.label),l.a.createElement(V.a,{className:"opacity-0"})),l.a.createElement("div",{className:"card-body text-white text-center"},l.a.createElement("h3",{className:"font-weight-bold"},e.number.toLocaleString()),""!==e.amount&&l.a.createElement("span",null,"Kshs ",e.amount.toLocaleString()," Total"),""===e.amount&&l.a.createElement("br",null))))})),l.a.createElement(te,{tabs:[{label:"DETAILS",link:"/branchManagerView/details/"+this.props.match.params.id+"/"+this.props.match.params.branch},{label:"LOANS",link:"/branchManagerView/loans/"+this.props.match.params.id+"/"+this.props.match.params.branch},{label:"officers",link:"/branchManagerView/officers/"+this.props.match.params.id+"/"+this.props.match.params.branch}]},l.a.createElement(f.a,{path:"/branchManagerView/details/:id/:branch",component:pe}),l.a.createElement(f.a,{path:"/branchManagerView/loans/:id/:branch",component:be}),l.a.createElement(f.a,{path:"/branchManagerView/officers/:id/:branch",component:he})))}}]),t}(n.Component),ve=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={activeSlide:0,files:[]},a.addClient=function(e){console.log(JSON.stringify(e)),fetch("".concat(window.server,"/users"),{method:"POST",headers:{Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6ImFjY2VzcyJ9.eyJ1c2VySWQiOjEsImlhdCI6MTU2Mzk1MzY0OSwiZXhwIjoxNTY1NjgxNjQ5LCJhdWQiOiJodHRwczovL25lZW1heWFtdW5ndS5jb20iLCJpc3MiOiJuZWVtYSBhcGkiLCJzdWIiOiJuZWVtYXlhbXVuZ3UiLCJqdGkiOiJmY2IxOTczMS04NTY5LTQwMjktYmM2MC0zMTQ2YTVlOTA4NTkifQ.n5CBbZXo2IdBjUcvBMSOq4wk21mpn6rej_JPF_Qz3Eg","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){console.log(e),400===e.code?alert(e.message):(alert("successfully added"),a.setState({user_id:"U0WO33PGVLSIB",activeSlide:1}))}).catch(function(e){alert("Error saving the data"),console.log(e)})},a.uploadFiles=function(){var e=new FormData;if(a.state.files.length<0)return alert("Please add atleast one file."),!1;a.state.files.map(function(t){e.append("files",t)}),e.append("user_id",a.state.user_id),fetch("".concat(window.server,"/users"),{method:"POST",headers:{Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6ImFjY2VzcyJ9.eyJ1c2VySWQiOjEsImlhdCI6MTU2Mzk1MzY0OSwiZXhwIjoxNTY1NjgxNjQ5LCJhdWQiOiJodHRwczovL25lZW1heWFtdW5ndS5jb20iLCJpc3MiOiJuZWVtYSBhcGkiLCJzdWIiOiJuZWVtYXlhbXVuZ3UiLCJqdGkiOiJmY2IxOTczMS04NTY5LTQwMjktYmM2MC0zMTQ2YTVlOTA4NTkifQ.n5CBbZXo2IdBjUcvBMSOq4wk21mpn6rej_JPF_Qz3Eg"},body:e}).then(function(e){return e.json()}).then(function(e){console.log(e),400===e.code?alert(e.message):(alert("successfully added"),a.setState({activeSlide:2}))}).catch(function(e){alert("Error saving the data"),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"p-3"},l.a.createElement("div",{className:"container"},l.a.createElement("h3",{className:"font-weight-bold mb-0"},"Add an Officer"),l.a.createElement("small",{className:"text-muted ml-2"},"Branch Managers > Add an Officer"))),0===this.state.activeSlide&&l.a.createElement("div",{className:""},l.a.createElement("div",{className:"pb-3 pt-5 bg-light border-top d-flex flex-fill"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Full name"),l.a.createElement("input",{placeholder:"...",className:"form-control text-input",value:"Boniface Mbaria"})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Phone number"),l.a.createElement("input",{placeholder:"...",className:"form-control text-input",value:"254715229228"})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Email address"),l.a.createElement("input",{type:"email",placeholder:"...",className:"form-control text-input",value:"bndibx@gmail.com"})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Gender"),l.a.createElement("select",{className:"form-control"},l.a.createElement("option",{value:"1"},"Male"),l.a.createElement("option",{value:"2"},"Female"))),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Password"),l.a.createElement("input",{type:"password",placeholder:"...",className:"form-control text-input",value:"qwerty"})),l.a.createElement("hr",{className:"my-4 mx-3"}),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Identification Type"),l.a.createElement("select",{className:"form-control"},l.a.createElement("option",{value:"1"},"Identity Card"),l.a.createElement("option",{value:"2"},"Passport Number"))),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"ID number"),l.a.createElement("input",{placeholder:"...",className:"form-control text-input",value:"29495518"})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Marital status"),l.a.createElement("select",{className:"form-control"},l.a.createElement("option",{value:"1"},"Single"),l.a.createElement("option",{value:"2"},"Married"))),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Branch"),l.a.createElement("select",{className:"form-control"},l.a.createElement("option",{value:"0"},"ALL"),l.a.createElement("option",{value:"1"},"ONFON ZONE"),l.a.createElement("option",{value:"2"},"TESTNAME"),l.a.createElement("option",{value:"3"},"TESTNAME"),l.a.createElement("option",{value:"4"},"TESTNAME"))),l.a.createElement("div",{className:" my-3 d-flex flex-row justify-content-between mt-5"},l.a.createElement(b.b,{to:"/branchManagers",className:"btn btn-primary px-5  ml-3",onClick:function(){alert("Added successfully")}},"Submit"))))))}}]),t}(n.Component),Ne=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={activeSlide:0,files:[]},a.addClient=function(e){console.log(JSON.stringify(e)),fetch("".concat(window.server,"/users"),{method:"POST",headers:{Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6ImFjY2VzcyJ9.eyJ1c2VySWQiOjEsImlhdCI6MTU2Mzk1MzY0OSwiZXhwIjoxNTY1NjgxNjQ5LCJhdWQiOiJodHRwczovL25lZW1heWFtdW5ndS5jb20iLCJpc3MiOiJuZWVtYSBhcGkiLCJzdWIiOiJuZWVtYXlhbXVuZ3UiLCJqdGkiOiJmY2IxOTczMS04NTY5LTQwMjktYmM2MC0zMTQ2YTVlOTA4NTkifQ.n5CBbZXo2IdBjUcvBMSOq4wk21mpn6rej_JPF_Qz3Eg","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){console.log(e),400===e.code?alert(e.message):(alert("successfully added"),a.setState({user_id:"U0WO33PGVLSIB",activeSlide:1}))}).catch(function(e){alert("Error saving the data"),console.log(e)})},a.uploadFiles=function(){var e=new FormData;if(a.state.files.length<0)return alert("Please add atleast one file."),!1;a.state.files.map(function(t){e.append("files",t)}),e.append("user_id",a.state.user_id),fetch("".concat(window.server,"/users"),{method:"POST",headers:{Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6ImFjY2VzcyJ9.eyJ1c2VySWQiOjEsImlhdCI6MTU2Mzk1MzY0OSwiZXhwIjoxNTY1NjgxNjQ5LCJhdWQiOiJodHRwczovL25lZW1heWFtdW5ndS5jb20iLCJpc3MiOiJuZWVtYSBhcGkiLCJzdWIiOiJuZWVtYXlhbXVuZ3UiLCJqdGkiOiJmY2IxOTczMS04NTY5LTQwMjktYmM2MC0zMTQ2YTVlOTA4NTkifQ.n5CBbZXo2IdBjUcvBMSOq4wk21mpn6rej_JPF_Qz3Eg"},body:e}).then(function(e){return e.json()}).then(function(e){console.log(e),400===e.code?alert(e.message):(alert("successfully added"),a.setState({activeSlide:2}))}).catch(function(e){alert("Error saving the data"),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"p-3"},l.a.createElement("div",{className:"container"},l.a.createElement("h3",{className:"font-weight-bold mb-0"},"Add a Zone"),l.a.createElement("small",{className:"text-muted ml-2"},"Clients > Add a Branch"))),0===this.state.activeSlide&&l.a.createElement("div",{className:""},l.a.createElement("div",{className:""},l.a.createElement("div",{className:"pb-3 pt-5 bg-light border-top d-flex flex-fill"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"mx-2 d-inline-block"},l.a.createElement("span",{className:"mb-2 "},"Branch "),l.a.createElement("select",{name:"",id:"",className:"form-control py-1"},l.a.createElement("option",{value:"1"},"NAIROBI"),l.a.createElement("option",{value:"2"},"BranchNAME"),l.a.createElement("option",{value:"3"},"BranchNAME"),l.a.createElement("option",{value:"4"},"BranchNAME"))),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Zone Name"),l.a.createElement("input",{placeholder:"...",className:"form-control text-input",value:""})),l.a.createElement("div",{className:"mx-3 d-inline-block mb-3"},l.a.createElement("span",{className:"ml-1 mb-2 d-block"},"Zone Code"),l.a.createElement("input",{placeholder:"...",className:"form-control text-input",value:""})),l.a.createElement("div",{className:" my-3 d-flex flex-row justify-content-between mt-5"},l.a.createElement("button",{className:"btn btn-primary px-5  ml-3"},"Submit"),l.a.createElement("button",{className:"btn btn-outline-primary px-5  ml-5"},"Reset form")))))))}}]),t}(n.Component),ge=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={activeSlide:0,files:[]},a.addClient=function(e){console.log(JSON.stringify(e)),fetch("".concat(window.server,"/users"),{method:"POST",headers:{Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6ImFjY2VzcyJ9.eyJ1c2VySWQiOjEsImlhdCI6MTU2Mzk1MzY0OSwiZXhwIjoxNTY1NjgxNjQ5LCJhdWQiOiJodHRwczovL25lZW1heWFtdW5ndS5jb20iLCJpc3MiOiJuZWVtYSBhcGkiLCJzdWIiOiJuZWVtYXlhbXVuZ3UiLCJqdGkiOiJmY2IxOTczMS04NTY5LTQwMjktYmM2MC0zMTQ2YTVlOTA4NTkifQ.n5CBbZXo2IdBjUcvBMSOq4wk21mpn6rej_JPF_Qz3Eg","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){console.log(e),400===e.code?alert(e.message):(alert("successfully added"),a.setState({user_id:"U0WO33PGVLSIB",activeSlide:1}))}).catch(function(e){alert("Error saving the data"),console.log(e)})},a.uploadFiles=function(){var e=new FormData;if(a.state.files.length<0)return alert("Please add atleast one file."),!1;a.state.files.map(function(t){e.append("files",t)}),e.append("user_id",a.state.user_id),fetch("".concat(window.server,"/users"),{method:"POST",headers:{Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6ImFjY2VzcyJ9.eyJ1c2VySWQiOjEsImlhdCI6MTU2Mzk1MzY0OSwiZXhwIjoxNTY1NjgxNjQ5LCJhdWQiOiJodHRwczovL25lZW1heWFtdW5ndS5jb20iLCJpc3MiOiJuZWVtYSBhcGkiLCJzdWIiOiJuZWVtYXlhbXVuZ3UiLCJqdGkiOiJmY2IxOTczMS04NTY5LTQwMjktYmM2MC0zMTQ2YTVlOTA4NTkifQ.n5CBbZXo2IdBjUcvBMSOq4wk21mpn6rej_JPF_Qz3Eg"},body:e}).then(function(e){return e.json()}).then(function(e){console.log(e),400===e.code?alert(e.message):(alert("successfully added"),a.setState({activeSlide:2}))}).catch(function(e){alert("Error saving the data"),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"p-3"},l.a.createElement("div",{className:"container"},l.a.createElement("h3",{className:"font-weight-bold mb-0"},"Add a Branch"),l.a.createElement("small",{className:"text-muted ml-2"},"Clients > Add a Branch"))),0===this.state.activeSlide&&l.a.createElement("div",{className:""},l.a.createElement(R,{inputs:[{label:"Branch Name",name:"BranchNAME",value:""},{label:"Branch Code",name:"BranchCode",value:""}],submit:function(t){return e.setState({activeSlide:1})}})))}}]),t}(n.Component),ye=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={tableData:{data:[]},tableError:!1,query:{}},a.timeout=null,a.fetchClients=function(){a.setState({tableError:!1});var e=Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&");console.log(e),fetch("".concat(window.server,"/sms?").concat(Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&")),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e);l.a.createElement("button",{className:"btn btn-outline-primary btn-sm"},"Loan Created"),l.a.createElement("button",{className:"btn btn-primary btn-sm"},"Loan Active"),l.a.createElement("button",{className:"btn btn-success btn-sm"},"Loan Repaid"),l.a.createElement("button",{className:"btn btn-danger btn-sm"},"Loan Defaulted");a.setState({tableData:e})}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"p-3 "},l.a.createElement("div",{className:"d-flex flex-row align-items-center justify-content-between"},l.a.createElement("h3",{className:"font-weight-bold"},"SMS")),l.a.createElement(B,{getFilter:function(t){setTimeout(function(){e.setState({query:Object(h.a)({},e.state.query,t)})},0)},filter:window.accounts.map(function(e){return{label:e.description,name:"account_id",value:e.account_type_id}})}),l.a.createElement("div",{className:"mt-4"},l.a.createElement(I,{data:this.state.tableData,fetch:function(t){e.setState({query:Object(h.a)({},e.state.query,t)})},fetchError:this.state.tableError})))}},{key:"componentDidUpdate",value:function(e,t){if(JSON.stringify(this.state.query)!==JSON.stringify(t.query)){var a=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.fetchClients()},100)}}}]),t}(n.Component),we=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"p-3"},l.a.createElement("div",{className:"col-md-6 my-5"},l.a.createElement(E,{title:"User perfomance",filters:l.a.createElement("div",{className:"d-flex flex-row"},l.a.createElement("div",{className:"mx-2 flex-column"},l.a.createElement("small",{className:"mb-2 font-weight-bold"},"Branch "),l.a.createElement("select",{name:"",id:"",className:"form-control py-1 filter-option"},l.a.createElement("option",{value:"0"},"ALL"),l.a.createElement("option",{value:"1"},"NAIROBI"),l.a.createElement("option",{value:"2"},"BranchNAME"),l.a.createElement("option",{value:"3"},"BranchNAME"),l.a.createElement("option",{value:"4"},"BranchNAME"))),l.a.createElement("div",{className:"mx-2 flex-column"},l.a.createElement("small",{className:"mb-2 font-weight-bold"},"Zone "),l.a.createElement("select",{name:"",id:"",className:"form-control py-1 filter-option"},l.a.createElement("option",{value:"0"},"ALL"),l.a.createElement("option",{value:"1"},"ONFON ZONE"),l.a.createElement("option",{value:"2"},"TESTNAME"),l.a.createElement("option",{value:"3"},"TESTNAME"),l.a.createElement("option",{value:"4"},"TESTNAME")))),datasets:[{fill:!1,label:"Income",borderColor:"#f44336",backgroundColor:"white",data:[7020,7127,7293,7329,7544,7631,7772,8688,8853,8969,9779,9924]}]})))}}]),t}(n.Component),xe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={},a.componentDidMount=function(){a.fetch()},a.fetch=function(){var e=a.props.match.params.id;fetch("".concat(window.server,"/users?user_id=").concat(e),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e.data[0]),a.setState(Object(h.a)({},e.data[0]))}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"text-mute pt-3 pl-3"},l.a.createElement("small",{className:"text-mute"},"Clients > View")),l.a.createElement("div",{className:"profile p-3 d-flex flex-row align-items-center justify-content-between"},l.a.createElement("div",{className:"d-flex flex-row align-items-center"},l.a.createElement("div",{className:"border avatar-lg bg-light d-flex flex-row align-items-center justify-content-center"},l.a.createElement("span",{className:"initials"},this.state.full_names?this.state.full_names[0]:"")),l.a.createElement("div",{className:"ml-4"},l.a.createElement("h4",null,this.state.full_names),l.a.createElement("div",null,"+ ",this.state.msisdn),l.a.createElement("div",{className:"ml-2 mt-1"},l.a.createElement("span",{className:"badge badge-secondary px-1"},"Client")))),l.a.createElement("div",{className:"d-flex flex-row justify-content-center"},l.a.createElement(b.b,{to:"/clientEdit/"+this.props.match.params.id,className:"option-card pr-3 d-flex flex-row btn align-items-center btn-primary  btn-round mr-3"},l.a.createElement(q.a,{size:18})," ",l.a.createElement("span",{className:"pl-1"},"Edit profile")),l.a.createElement(b.b,{to:"/loanAdd/"+this.props.match.params.id,className:"option-card pr-3 d-flex flex-row btn align-items-center btn-primary  btn-round"},l.a.createElement(q.a,{size:18})," ",l.a.createElement("span",{className:"pl-1"},"Add a Loan")))),l.a.createElement("div",{className:" border-bottom"},l.a.createElement("div",{className:"tab-links d-flex flex-row mr-5"},l.a.createElement(b.b,{to:"/officerView/details/"+this.props.match.params.id,className:"tab-link mr-3 p-3 position-relative font-weight-bold active"},l.a.createElement("span",null,"DETAILS")),l.a.createElement(b.b,{to:"/officerView/loans/"+this.props.match.params.id,className:"tab-link mr-3 p-3 position-relative font-weight-bold"},l.a.createElement("span",null,"LOANS")),l.a.createElement(b.b,{to:"/officerView/transactions/"+this.props.match.params.id,className:"tab-link mr-3 p-3 position-relative font-weight-bold"},l.a.createElement("span",null,"TRANSCATIONS")),l.a.createElement(b.b,{to:"/officerView/perfomance/"+this.props.match.params.id,className:"tab-link mr-3 p-3 position-relative font-weight-bold"},l.a.createElement("span",null,"PERFOMANCE")))),l.a.createElement("div",{className:"tabs"},l.a.createElement("div",{className:"tab"},l.a.createElement(f.a,{path:"/officerView/details/:id",exact:!0,component:H}),l.a.createElement(f.a,{path:"/officerView/loans/:id",exact:!0,component:K}),l.a.createElement(f.a,{path:"/officerView/transactions/:id",exact:!0,component:$}),l.a.createElement(f.a,{path:"/officerView/perfomance/:id",exact:!0,component:we}))))}}]),t}(n.Component),je=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={tableData:{data:[]},tableError:!1,query:{}},a.timeout=null,a.fetchClients=function(){a.setState({tableError:!1});var e=Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&");console.log(e),fetch("".concat(window.server,"/users?").concat(Object.entries(a.state.query).map(function(e){return e.join("=")}).join("&"),"&user_type=1"),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e);var t=[];e.data.map(function(e){t.push({"User ID":e.user_id,"Full Name":e.full_names,email:e.email,gender:["","Male","Female"][e.gender_id],identification:e.identification,"Marital status":["","Single","Married"][e.marital_status_id],balance:e.balance,"Phone Number":e.msisdn,zone:e.zone.zone_name,action:l.a.createElement(l.a.Fragment,null,l.a.createElement(b.b,{to:"/clientView/details/"+e.user_id,className:"btn btn-sm btn-primary"},"View")," ")})}),e.data=t,a.setState({tableData:e})}).catch(function(e){a.setState({tableError:!0}),console.error(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"p-3 "},l.a.createElement("div",{className:"d-flex flex-row align-items-center justify-content-between"},l.a.createElement("div",{className:"d-flex flex-column "},l.a.createElement("h2",{className:"m-0 mr"},"Active clients")," ",l.a.createElement("div",{className:"d-flex flex-row"},l.a.createElement("h5",{className:"mb-0 mt-2"},"5,000 ",l.a.createElement("small",null,"Clients")),l.a.createElement("h5",{className:"mb-0 mt-2 mx-2"},"\u2022"),l.a.createElement("h5",{className:"mb-0 mt-2"},l.a.createElement("small",null,"Kshs")," 200,000 ",l.a.createElement("small",null,"total")))),l.a.createElement("div",null,l.a.createElement("select",{className:"form-control"},l.a.createElement("option",{value:""},"All clients"),l.a.createElement("option",{value:""},"Active clients"),l.a.createElement("option",{value:""},"Inactive clients"),l.a.createElement("option",{value:""},"Dormant clients")))),l.a.createElement(B,{branches:!0,zone:!0,getFilter:function(t){setTimeout(function(){e.setState({query:Object(h.a)({},e.state.query,t)})},0)}}),l.a.createElement("div",{className:"mt-4"},l.a.createElement(I,{data:this.state.tableData,fetch:function(t){e.setState({query:Object(h.a)({},e.state.query,t)})},fetchError:this.state.tableError})))}},{key:"componentDidUpdate",value:function(e,t){if(JSON.stringify(this.state.query)!==JSON.stringify(t.query)){var a=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.fetchClients()},100)}}}]),t}(n.Component),Oe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={tableData:{data:[]},tableError:!1,query:{},filter:{}},a.timeout=null,a.fetchClients=function(){var e=Object(h.a)({},a.state.query,a.state.filter);a.setState({tableError:!1});var t=Object.entries(e).map(function(e){return e.join("=")}).join("&");fetch("".concat(window.server,"/loans?").concat(t),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){var t=[];l.a.createElement("button",{className:"btn btn-outline-primary btn-sm"},"Loan Created"),l.a.createElement("button",{className:"btn btn-primary btn-sm"},"Loan Active"),l.a.createElement("button",{className:"btn btn-success btn-sm"},"Loan Repaid"),l.a.createElement("button",{className:"btn btn-danger btn-sm"},"Loan Defaulted");e.data.map(function(e){t.push({"Start Date":e.loan_start_date,"Loan ID":e.loan_id,Description:"","Client Name":e.client.full_names,"Amount disbursed":"kes "+e.loan_amount_disbursed.toLocaleString(),"Loan Amount":"kes "+e.loan_amount.toLocaleString(),Balance:"kes "+e.loan_amount_paid.toLocaleString(),"Loan Installments":e.loan_installments.toLocaleString(),action:l.a.createElement(l.a.Fragment,null,l.a.createElement(b.b,{to:"/loanView/details/"+e.loan_id,className:"btn btn-sm btn-primary"},"View")," ")})}),e.data=t,a.setState({tableData:e})}).catch(function(e){a.setState({tableError:!0}),console.log(e)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"p-3 "},l.a.createElement("div",{className:"d-flex flex-row align-items-center justify-content-between"},l.a.createElement("div",{className:"d-flex flex-column "},l.a.createElement("h2",{className:"m-0 mr"},"Active loans"),l.a.createElement("div",null,l.a.createElement("h5",{className:"mb-0 mt-2"},"5,000 total"))),l.a.createElement("div",null,l.a.createElement("select",{className:"form-control"},l.a.createElement("option",{value:""},"All loans"),l.a.createElement("option",{value:""},"Active loans"),l.a.createElement("option",{value:""},"Inactive loans"),l.a.createElement("option",{value:""},"Dormant loans")))),l.a.createElement(B,{filter:[{label:"All",name:"All",value:0},{label:"Created loans",name:"loan_status",value:1},{label:"Active loans",name:"loan_status",value:2},{label:"Repaid loans",name:"loan_status",value:3},{label:"Defaulted loans",name:"loan_status",value:4}],getFilter:function(t){console.log(t),setTimeout(function(){e.setState({filter:Object(h.a)({},t)})},0)}}),l.a.createElement("div",{className:"mt-4"},l.a.createElement(I,{data:this.state.tableData,fetch:function(t){e.setState({query:Object(h.a)({},e.state.query,t)})},fetchError:this.state.tableError})))}},{key:"componentDidUpdate",value:function(e,t){if(JSON.stringify(this.state)!==JSON.stringify(t)){var a=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.fetchClients()},100)}}}]),t}(n.Component);window.server="http://197.254.22.228:3030",window.verifyNumber=function(e){return(e+="")[0]+e[1]+e[2]==="254"?parseInt(e):parseInt("254"+parseInt(e))},localStorage.token&&(window.user=JSON.parse(localStorage.user));var Se=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={loaded:!1,status:0,errorload:!1},a.componentDidMount=function(){fetch("".concat(window.server,"/zone"),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){if(console.log(e),e.code)return a.setState({status:e.code,completeload:!0,errorload:!0}),!1;window.zones=[{id:0,zone_name:"ALL",zone_code:"ALL",branch_id:0}].concat(Object(s.a)(e.data)),a.checkStatus()}).catch(function(e){console.log(e)}),fetch("".concat(window.server,"/branches"),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){window.branches=[{id:0,branch_name:"ALL",branch_code:"ALL"}].concat(Object(s.a)(e.data)),a.checkStatus()}).catch(function(e){console.log(e)}),fetch("".concat(window.server,"/accounts"),{headers:{Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){window.accounts=[{account_type_id:0,description:"ALL",balance:0}].concat(Object(s.a)(e.data)),a.checkStatus()}).catch(function(e){console.log(e)})},a.checkStatus=function(){window.zones&&window.branches&&window.accounts&&a.setState({loaded:!0,errorload:!0})},a.getStatus=function(){return a.state.errorload?0!==a.state.status&&0!==a.state.status?403===a.state.status?l.a.createElement("div",{className:"loader h-100 w-100 d-flex flex-row align-items-center justify-content-center show-loader"},l.a.createElement("img",{src:ce.a,alt:""})):l.a.createElement("div",{className:"loader h-100 w-100 d-flex flex-row align-items-center justify-content-center show-loader"},l.a.createElement("img",{src:se.a,alt:""})):void 0:l.a.createElement("div",{className:"loader h-100 w-100 d-flex flex-row align-items-center justify-content-center show-loader"},l.a.createElement("div",{className:"lds-roller"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null)))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(f.c,null,l.a.createElement(f.a,{path:"/login",component:A}),(this.state.loaded||!localStorage.token)&&l.a.createElement(f.a,{path:"/",component:ke}),this.getStatus(this.state.status,this.state.errorload))}}]),t}(n.Component),ke=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return"undefined"===typeof localStorage.token&&this.props.history.push("/login"),l.a.createElement("div",{id:"wrapper"},l.a.createElement("ul",{className:"navbar-nav bg-gradient-dark default-bg sidebar sidebar-dark accordion position-relative",id:"accordionSidebar"},l.a.createElement(b.b,{className:"sidebar-brand d-flex align-items-center justify-content-center",to:"/"},l.a.createElement("div",{className:"sidebar-brand-icon rotate-n-15"},l.a.createElement("i",{className:"fas fa-laugh-wink"})),l.a.createElement("div",{className:"sidebar-brand-text text-left"},"Neema lending")),l.a.createElement("div",{className:"sidebar-heading"},"pages"),l.a.createElement("li",{className:"nav-item"},l.a.createElement(b.b,{to:"/",className:"nav-link d-flex flex-row align-items-center"},l.a.createElement(x.a,{color:"white",size:18}),l.a.createElement("span",{className:"text-white ml-2"},"Dashboard"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(b.b,{to:"/clients",className:"nav-link d-flex flex-row align-items-center"},l.a.createElement(y.a,{color:"white",size:18}),l.a.createElement("span",{className:"text-white ml-2"},"Users")),l.a.createElement("div",{id:"collapseUtilities",className:"collapse show","aria-labelledby":"headingUtilities","data-parent":"#accordionSidebar"},l.a.createElement("div",{className:"bg-white py-2 collapse-inner rounded"},l.a.createElement("h6",{className:"collapse-header"},"listing:"),l.a.createElement(b.b,{className:"collapse-item",to:"/clients"},"Clients"),l.a.createElement(b.b,{className:"collapse-item",to:"/branchManagers"},"Branch Managers"),l.a.createElement(b.b,{className:"collapse-item",to:"/officers"},"Officers")))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(b.b,{to:"/loans",className:"nav-link d-flex flex-row align-items-center"},l.a.createElement(N.a,{color:"white",size:18}),l.a.createElement("span",{className:"text-white ml-2"},"Loans"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(b.b,{to:"/transactions",className:"nav-link d-flex flex-row align-items-center"},l.a.createElement(j.a,{color:"white",size:18}),l.a.createElement("span",{className:"text-white ml-2"},"Transactions"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("div",{className:"nav-link d-flex flex-row align-items-center"},l.a.createElement(O.a,{color:"white",size:18}),l.a.createElement("span",{className:"text-white ml-2"},"Finance")),l.a.createElement("div",{id:"collapseUtilities",className:"collapse show","aria-labelledby":"headingUtilities","data-parent":"#accordionSidebar"},l.a.createElement("div",{className:"bg-white py-2 collapse-inner rounded"},l.a.createElement(b.b,{className:"collapse-item",to:"/accounts"},"Accounts"),l.a.createElement(b.b,{className:"collapse-item",to:"/sales"},"Sales"),l.a.createElement(b.b,{className:"collapse-item",to:"/arrears"},"Arrears")))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("div",{to:"/notifications",className:"nav-link d-flex flex-row align-items-center"},l.a.createElement(S.a,{color:"white",size:18}),l.a.createElement("span",{className:"text-white ml-2"},"Notifications")),l.a.createElement("div",{id:"collapseUtilities",className:"collapse show","aria-labelledby":"headingUtilities","data-parent":"#accordionSidebar"},l.a.createElement("div",{className:"bg-white py-2 collapse-inner rounded"},l.a.createElement(b.b,{className:"collapse-item",to:"/sms"},"SMS"),l.a.createElement(b.b,{className:"collapse-item",to:"/emails"},"Emails")))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(b.b,{to:"/branches",className:"nav-link d-flex flex-row align-items-center"},l.a.createElement(k.a,{color:"white",size:18}),l.a.createElement("span",{className:"text-white ml-2"},"Branches"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(b.b,{to:"/zones",className:"nav-link d-flex flex-row align-items-center"},l.a.createElement(v.a,{color:"white",size:18}),l.a.createElement("span",{className:"text-white ml-2"},"Zones"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("button",{className:"nav-link d-flex flex-row align-items-center bg-transparent btn",onClick:function(){window.confirm("Are you sure you want to logout?")&&(localStorage.clear(),e.props.history.push("/login"))}},l.a.createElement(C.a,{color:"white",size:18}),l.a.createElement("span",{className:"text-white ml-2"},"Logout")))),l.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},l.a.createElement("div",{className:"bg-white d-flex flex-fill flex-column"},l.a.createElement(f.a,{path:"/",exact:!0,component:w}),l.a.createElement(f.a,{path:"/clients",exact:!0,component:F}),l.a.createElement(f.a,{path:"/clientAdd",exact:!0,component:G}),l.a.createElement(f.a,{path:"/clientStatus/:status",exact:!0,component:je}),l.a.createElement(f.a,{path:"/officerAdd",exact:!0,component:ve}),l.a.createElement(f.a,{path:"/branchManagerView/:path/:id/:branch",component:Ee}),l.a.createElement(f.a,{path:"/clientView/:path/:id",component:ae}),l.a.createElement(f.a,{path:"/clientEdit",component:ie}),l.a.createElement(f.a,{path:"/loans",exact:!0,component:Y}),l.a.createElement(f.a,{path:"(/loanAdd|/loanAdd/:id)",component:ne}),l.a.createElement(f.a,{path:"/loanView/:path/:id",component:ue}),l.a.createElement(f.a,{path:"/loanStatus/:status",exact:!0,component:Oe}),l.a.createElement(f.a,{path:"/transactions",exact:!0,component:U}),l.a.createElement(f.a,{path:"/notifications",exact:!0,component:W}),l.a.createElement(f.a,{path:"/officers",exact:!0,component:Z}),l.a.createElement(f.a,{path:"/officerView/:path/:id",exact:!0,component:xe}),l.a.createElement(f.a,{path:"/branches",exact:!0,component:P}),l.a.createElement(f.a,{path:"/branchAdd",exact:!0,component:ge}),l.a.createElement(f.a,{path:"/zones",exact:!0,component:Q}),l.a.createElement(f.a,{path:"/sms",exact:!0,component:ye}),l.a.createElement(f.a,{path:"/zoneAdd",exact:!0,component:Ne}),l.a.createElement(f.a,{path:"/branchManagers",exact:!0,component:X}),l.a.createElement(f.a,{path:"/branchManagersAdd",exact:!0,component:fe}))))}}]),t}(n.Component),Ce=Se;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(b.a,{basename:""},l.a.createElement(f.a,{path:"/",render:function(){return l.a.createElement(Ce,null)}})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},98:function(e,t,a){e.exports=a.p+"static/media/403.b24d00f0.png"},99:function(e,t,a){e.exports=a.p+"static/media/500.0f474d31.jpg"}},[[100,1,2]]]);
//# sourceMappingURL=main.ffbce634.chunk.js.map